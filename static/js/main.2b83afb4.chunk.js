(this["webpackJsonp@bebomining/client-web"]=this["webpackJsonp@bebomining/client-web"]||[]).push([[0],{208:function(e,t,a){},255:function(e,t,a){},410:function(e,t,a){"use strict";a.r(t);var n=a(23),r=a.n(n),i=a(5),o=a(0),c=a.n(o),s=c.a.createContext(),l=c.a.createContext(),d=a(13),u=a(14),j=a(21),p=a(20),x=a(10),h=a(28),b=a(27),m=a(209),f=a(134),v=a(482),O=a(467),g=a(7),w=a(456),N=a(26),y=a.n(N),C=a(469),S=a(470),k=a(471),W=a(15),B=a.n(W),I=a(24),T=a(464),R=a(466),P=a(465),D=a(128),H=a.n(D),E=a(216),L=a.n(E),M=a(217),A=a.n(M),z=a(127),_=a.n(z),U=a(213),F=a.n(U),V=a(214),G=a.n(V),q=a(1),Y=!0,K=!1,$={true:"Run",false:"Stop"};function X(e){var t=e.innerRef,a=e.onPlay,n=e.onStop,r=e.className,c=e.forceDisabled,s=e.initialStatus,l=void 0===s?Y:s,d=Object(o.useState)((function(){return l})),u=Object(i.a)(d,2),j=u[0],p=u[1],x=Object(o.useRef)(j),h=Object(o.useState)((function(){return $[j]})),b=Object(i.a)(h,2),m=b[0],f=b[1],v=Object(o.useState)((function(){return!1})),O=Object(i.a)(v,2),g=O[0],N=O[1];Object(o.useImperativeHandle)(t,(function(){return{forceShowPlayBtn:function(){N(!0),x.current=Y,p(Y),setTimeout((function(){f($[Y]),N(!1)}),100)}}})),Object(o.useEffect)((function(){x.current===Y&&j===K?(N(!0),null===a||void 0===a||a().then((function(){f($[K]),x.current=j})).catch((function(){return p(Y)})).finally((function(){return N(!1)}))):x.current===K&&j===Y&&(N(!0),null===n||void 0===n||n().then((function(){f($[Y]),x.current=j})).catch((function(){return p(K)})).finally((function(){return N(!1)})))}),[j]);var y=m===$[Y],C=y?$[Y]:$[K],S=y?"default":"secondary";return Object(q.jsx)(w.a,{className:r,size:"small",disabled:g||c,color:S,"aria-label":m,title:m,startIcon:y?Object(q.jsx)(F.a,{}):Object(q.jsx)(G.a,{}),onClick:function(){return p((function(e){return!e}))},children:C})}function J(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a.method=a.method||"GET",a.headers=a.headers||{},(null===(t=a.headers)||void 0===t?void 0:t["Content-Type"])||(null===a||void 0===a?void 0:a.body)instanceof FormData||(a.headers["Content-Type"]="application/json");var n=Date.now();return window._SOCKET.send({namespace:e,opts:a,id:n}),new Promise((function(t,a){window._BUS.on("".concat(e,"-").concat(n),(function r(i){window._BUS.off("".concat(e,"-").concat(n),r),console.log("FETCH END => ","".concat(e,"-").concat(n),i),i.err?a(i.err):t(i)}))}))}function Z(e){return Q.apply(this,arguments)}function Q(){return Q=Object(I.a)(B.a.mark((function e(t){var a,n,r,o,c,s=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:1600,n=new Promise((function(e){return setTimeout(e,a)})),e.next=4,Promise.all([t,n]);case 4:return r=e.sent,o=Object(i.a)(r,1),c=o[0],console.log("result => ",c),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}var ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a="1e".concat(t),n=(Math.round(e*a)/a).toFixed(t);return 0===e?0:n};function te(){return Object(o.useContext)(s)}var ae=a(489),ne=a(463),re=a(461),ie=a(462),oe=a(460),ce=function(){return null};function se(e){var t=e.title,a=void 0===t?"Do you confirm the operation?":t,n=e.content,r=e.onConfirm,i=void 0===r?ce:r,o=e.onCancel,c=void 0===o?ce:o;return Object(q.jsxs)(ae.a,{open:!0,onClose:c,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(q.jsx)(oe.a,{id:"alert-dialog-title",children:a}),Object(q.jsx)(re.a,{children:Object(q.jsx)(ie.a,{id:"alert-dialog-description",children:n})}),Object(q.jsxs)(ne.a,{children:[Object(q.jsx)(w.a,{onClick:c,children:"Cancel"}),Object(q.jsx)(w.a,{onClick:i,color:"primary",autoFocus:!0,children:"Confirm"})]})]})}var le,de="WITH_ACTION_PROGRESS",ue=de,je=function(){return null};function pe(e){var t=e.workerName,a=e.coinName,n=e.minerMode,r=e.minerName,c=e.poolName,s=e.walletName,l=e.algo,d=e.id,u=e.onAction,j=void 0===u?je:u,p=e.isRunning,x=void 0!==p&&p,b=e.onRemoveWorker,m=xe(),v=te().bus,O=Object(h.f)(),g=Object(h.i)(),N=Object(o.useState)((function(){return x})),y=Object(i.a)(N,2),C=y[0],S=y[1],k=Object(o.useState)((function(){return!1})),W=Object(i.a)(k,2),D=W[0],E=W[1],M=Object(o.useState)((function(){return!1})),z=Object(i.a)(M,2),U=z[0],F=z[1],V=function(){var e=Object(I.a)(B.a.mark((function e(){var a,n,r,i;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),j(!0),e.prev=2,v.emit("ON_PLAY_WORKER_START"),a="workers/".concat(d,"/_start"),n=Z(J(a,{method:"POST"})),r="Starting ".concat(t,"..."),v.emit(ue,{promise:n,label:r}),e.next=10,n;case 10:i=e.sent,S(!0),le(),v.emit("ON_PLAY_WORKER_END_SUCCESS"),console.log("onPlay ",i);case 15:return e.prev=15,v.emit("ON_PLAY_WORKER_END_ERROR"),E(!1),j(!1),e.finish(15);case 20:case"end":return e.stop()}}),e,null,[[2,,15,20]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(I.a)(B.a.mark((function e(){var a,n,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!1),E(!0),j(!0),e.prev=3,v.emit("ON_STOP_WORKER_START"),a="workers/".concat(d,"/_stop"),n=Z(J(a,{method:"POST"})),r="Stopping ".concat(t,"..."),v.emit(ue,{promise:n,label:r}),e.next=11,n;case 11:S(!1),re(null),v.emit("ON_STOP_WORKER_END_SUCCESS"),clearTimeout($.current);case 15:return e.prev=15,v.emit("ON_STOP_WORKER_END_ERROR"),E(!1),j(!1),e.finish(15);case 20:case"end":return e.stop()}}),e,null,[[3,,15,20]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){return F((function(e){return!e}))},K=function(){var e=Object(I.a)(B.a.mark((function e(){var a,n,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),Y(),e.prev=2,a="workers/".concat(d),n=Z(J(a,{method:"DELETE"})),r="Deleting Worker: '".concat(t,"'..."),v.emit(ue,{promise:n,label:r}),e.next=9,n;case 9:b({workerId:d}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0);case 15:return e.prev=15,E(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})));return function(){return e.apply(this,arguments)}}(),$=Object(o.useRef)(null),Q=Object(o.useState)((function(){return null})),ae=Object(i.a)(Q,2),ne=ae[0],re=ae[1],ie=Object(o.useRef)(),oe=Object(o.useRef)(!1),ce=Object(o.useRef)({status:C});ce.current.status=C;var le=Object(o.useCallback)(function(){var e=Object(I.a)(B.a.mark((function e(){var a,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="workers/".concat(d,"/_stats"),e.prev=1,e.next=4,J(a);case 4:n=e.sent,oe.current&&ce.current.status&&(re(n.results),$.current=setTimeout(t,5e3)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),oe.current&&(S(!1),re(null),ie.current.forceShowPlayBtn());case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(){return e.apply(this,arguments)}return t}(),[]);Object(o.useEffect)((function(){return oe.current=!0,C&&le(),function(){oe.current=!1,clearTimeout($.current)}}),[]);var de=t.length>=30?"".concat(t.substring(0,30),"..."):t,pe=C?"Check ".concat(de," Stats"):void 0,he=C?"primary":"inherit",be=(null===ne||void 0===ne?void 0:ne.session)||{},me=be.performance,fe=be.performanceUnit;return Object(q.jsxs)("div",{"data-id":d,className:m.CardWrapper,children:[Object(q.jsxs)(T.a,{title:pe,className:m.root,variant:"outlined","data-running":C,children:[void 0!==me&&Object(q.jsxs)("div",{className:m.Performance,children:[ee(me)," ",fe]}),Object(q.jsxs)(P.a,{children:[Object(q.jsx)(f.a,{title:"Name: ".concat(t),className:m.title,color:"textSecondary",gutterBottom:!0,children:Object(q.jsxs)("span",{className:m.WrapperStatsIcon,children:[Object(q.jsx)("span",{style:{maxWidth:"180px"},className:"text-ellipsis",children:t}),Object(q.jsx)(L.a,{color:he})]})}),Object(q.jsxs)(f.a,{variant:"h5",component:"h2",className:m.textPrimary,children:["COIN: ",a]}),Object(q.jsx)(f.a,{className:m.textSecondary,color:"textSecondary",children:Object(q.jsxs)("span",{className:"text-ellipsis",children:[c," - ",l," - ",r," - ",n]})}),Object(q.jsxs)(f.a,{variant:"body2",component:"p",className:m.WalletInfo,children:[Object(q.jsx)(_.a,{}),Object(q.jsx)("span",{title:"Wallet Name: ".concat(s),className:"text-ellipsis",children:s})]})]}),Object(q.jsxs)(R.a,{className:m.CardActions,children:[Object(q.jsx)(w.a,{className:m.buttons,size:"small",disabled:D||C,"aria-label":"remove",title:"remove",onClick:Y,startIcon:Object(q.jsx)(H.a,{}),children:"Remove"}),Object(q.jsx)(w.a,{className:m.buttons,size:"small",disabled:D||C,"aria-label":"edit",title:"edit",onClick:function(){var e=g.params.rigId;O.push("/rigs/".concat(e,"/workers/edit/").concat(d))},startIcon:Object(q.jsx)(A.a,{}),children:"Edit"}),Object(q.jsx)(X,{innerRef:ie,className:m.buttons,forceDisabled:D,initialStatus:!C,onStop:G,onPlay:V})]}),Object(q.jsx)("div",{className:m.buttonCover,onClick:function(){var e=g.params.rigId;C&&O.push("/rigs/".concat(e,"/workers/stats/").concat(d))}})]}),U&&Object(q.jsx)(se,{content:"You will be removing the worker: '".concat(t,"'!"),onCancel:Y,onConfirm:K})]})}var xe=Object(O.a)({root:{position:"relative",width:"100%",textAlign:"left","&:hover[data-running='true'], &:focus[data-running='true']":{cursor:"pointer",boxShadow:"0px 10px 13px -7px #e0e0e0",border:"1px solid #3f51b5"}},Performance:{backgroundColor:"#439c43",padding:"2px 4px",position:"absolute",left:"50%",transform:"translateX(-50%)",borderBottomRightRadius:"4px",borderBottomLeftRadius:"4px",fontSize:"12px",color:"white",fontWeight:"bolder"},WrapperStatsIcon:{display:"flex",alignItems:"center",justifyContent:"space-between"},buttonCover:{width:"100%",position:"absolute",height:"100%",top:0,left:0,zIndex:1},buttons:{zIndex:2,position:"relative"},title:{fontSize:14},textSecondary:{marginBottom:12,textTransform:"lowercase"},textPrimary:{textTransform:"uppercase"},CardWrapper:(le={width:"33.33%",padding:"4px"},Object(g.a)(le,"@media (max-width:900px)",{width:"50%"}),Object(g.a)(le,"@media (max-width:624px)",{width:"100%"}),le),WalletInfo:{display:"flex",alignItems:"center","& span":{marginLeft:"4px"}},CardActions:{justifyContent:"space-between"}}),he=Object(O.a)({NoWorkers:{flexDirection:"column",alignItems:"center",display:"flex",justifyContent:"center",textAlign:"center",height:"100%"},button:{marginTop:"32px"},textSecondary:{marginTop:"24px"}});function be(){var e=he(),t=Object(h.f)(),a=Object(h.i)();return Object(q.jsxs)("div",{className:e.NoWorkers,children:[Object(q.jsx)(f.a,{variant:"h4",children:"No Workers!"}),Object(q.jsx)(w.a,{variant:"contained",size:"large",color:"primary",className:e.button,startIcon:Object(q.jsx)(y.a,{}),onClick:function(){return t.push("".concat(a.url,"/add-worker"))},children:"Add New Worker"}),Object(q.jsx)(f.a,{className:e.textSecondary,color:"textSecondary",children:"You do not have any worker yet! Please add a worker and start mining!"})]})}var me=Object(O.a)({NoWorkers:{flex:1,flexDirection:"column",alignItems:"center",display:"flex",justifyContent:"center",textAlign:"center",padding:"0 8px"},button:{marginTop:"32px"},textSecondary:{marginTop:"24px"}});function fe(){var e=me();return Object(q.jsxs)("div",{className:e.NoWorkers,children:[Object(q.jsx)(f.a,{variant:"h4",children:"No running Workers!"}),Object(q.jsx)(f.a,{className:e.textSecondary,color:"textSecondary",children:"None of your workers is running at the moment!"})]})}function ve(e,t){var a=Object(o.useState)(null),n=Object(i.a)(a,2),r=n[0],c=n[1],s=Object(o.useState)(null),l=Object(i.a)(s,2),d=l[0],u=l[1],j=Object(o.useState)(null),p=Object(i.a)(j,2),x=p[0],h=p[1],b=Object(o.useRef)(!1),m=Object(o.useRef)((function(){return r}));return Object(o.useEffect)((function(){return function(){b.current=!0}}),[]),Object(o.useEffect)((function(){u(!0),c(null),h(null),J(e,t).then((function(e){b.current||(m.current=e,c(e),u(!1))})).catch((function(e){b.current||(h(e),u(!1))}))}),[e]),{data:r,loading:d,error:x,updateData:c,prevData:m.current}}var Oe=a(31),ge=a(485),we=a(468);function Ne(e){var t=e.severity,a=void 0===t?"error":t,n=e.message,r=e.title,i=e.action,c=e.children,s=e.identifier,d=Object(o.useContext)(l),u=Object(o.useCallback)((function(){d((function(e){var t=e.list.filter((function(e){return s!==e.props.identifier}));return Object(x.a)(Object(x.a)({},e),{},{list:t})}))}),[]);return Object(q.jsxs)(ge.a,{action:i,onClose:function(){return u()},style:{margin:"4px 0",alignItems:"center"},severity:a,children:[r&&Object(q.jsx)(we.a,{children:r}),n&&n,c]})}function ye(e){var t=Object(o.useContext)(l),a=Object(o.useCallback)((function(e){var a=Date.now()+Math.floor(1e8*Math.random()),n=c.a.cloneElement(e,{identifier:a});t((function(e){return{list:[].concat(Object(Oe.a)(e.list),[n])}}))}),[]),n=function(e,t,n){return a(Object(q.jsx)(Ne,{action:t,severity:"error",message:e.message,children:n}))};return Object(o.useEffect)((function(){e&&n(e)}),[e]),{addError:n}}function Ce(){var e,t=Se(),a=Object(h.f)(),n=Object(h.i)(),r=Object(o.useState)({onlyRunning:!1}),c=Object(i.a)(r,2),s=c[0],l=c[1],d=Object(o.useState)((function(){return!1})),u=Object(i.a)(d,2),j=u[0],p=u[1],b=ve("workers?onlyRunning=".concat(s.onlyRunning)),m=b.loading,f=b.data,v=b.error,O=b.updateData,N=b.prevData;if(ye(v),m||null===m)return Object(q.jsx)("div",{className:t.loadingBar,children:Object(q.jsx)(C.a,{size:50})});var W=function(e){var t=e.workerId;O((function(e){return Object(x.a)(Object(x.a)({},e),{},{results:e.results.filter((function(e){var a=e.id;return Number(a)!==Number(t)}))})}))},B=function(e){p(e)},I=f.results,T=s.onlyRunning&&(null===I||void 0===I?void 0:I.length)<=0&&(null===N||void 0===N||null===(e=N.results)||void 0===e?void 0:e.length)>=0,R=!s.onlyRunning&&(null===I||void 0===I?void 0:I.length)<=0;return R?Object(q.jsx)(be,{}):Object(q.jsxs)("div",{className:t.Workers,children:[Object(q.jsxs)("div",{className:t.NavBar,children:[Object(q.jsx)(w.a,{variant:"contained",size:"small",color:"primary",className:t.Buttons,startIcon:Object(q.jsx)(y.a,{}),onClick:function(){var e=n.params.rigId;a.push("/rigs/".concat(e,"/workers/add"))},children:Object(q.jsx)("span",{className:"btn-label",children:"Add Worker"})}),!R&&Object(q.jsx)("div",{children:Object(q.jsx)(S.a,{control:Object(q.jsx)(k.a,{disabled:j,checked:s.onlyRunning,onChange:function(e){l(Object(x.a)(Object(x.a)({},s),{},Object(g.a)({},e.target.name,e.target.checked)))},name:"onlyRunning",color:"secondary"}),label:"Show only running"})})]}),T?Object(q.jsx)(fe,{}):Object(q.jsx)("div",{className:t.Grid_Box,children:Object(q.jsx)("div",{id:"Grid_Workers",className:t.Grid,children:I.map((function(e){return Object(q.jsx)(pe,Object(x.a)({onAction:B,onRemoveWorker:W,isRunning:"number"===typeof e.pid},e),e.workerName)}))})})]})}var Se=Object(O.a)((function(){return{Workers:{width:"100%",height:"100%",flex:"1",display:"flex",flexDirection:"column",overflow:"hidden",position:"relative"},Grid_Box:{width:"100%",overflow:"auto"},Grid:{display:"flex",width:"100%",margin:"auto",flexWrap:"wrap",padding:"6px"},NavBar:{width:"100%",display:"flex",padding:"16px 8px",justifyContent:"space-between"},loadingBar:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},Buttons:Object(g.a)({},"@media (max-width:374px)",{"& .btn-label":{display:"none"},"& .MuiButton-startIcon":{margin:"0"},padding:"8px",minWidth:"initial"})}})),ke=(a(255),a(29)),We=a(9),Be=a(42),Ie=a.n(Be),Te=a(490),Re=a(472),Pe=a(488),De=function(){return null},He=function(e){var t=e.size,a=e.startIcon,n=e.onClick,r=void 0===n?De:n,i=e.children,o=Object(We.g)(),c=o.isValid,s=o.formStatus,l=o.submitted,d=s===We.e.ON_SUBMIT;return Object(q.jsx)(w.a,{disabled:!c||d||l>0,type:"submit",size:t,variant:"contained",color:"primary",onClick:r,startIcon:a,children:i})},Ee=Object(O.a)((function(e){return{root:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},wrapper:{flex:1},wrapperContent:{width:"100%",height:"100%",justifyContent:"space-evenly",display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%"},backButton:{marginRight:e.spacing(4)},instructions:{padding:"0 16px",textAlign:"center",marginTop:e.spacing(1),marginBottom:e.spacing(1)},Stepper:{overflow:"auto"}}}));function Le(e){var t=e.onChangeStep,a=e.activeStep,n=e.children,r=Ee(),i=["Worker Name","Mining Mode","Config Pool","COIN","Wallet","Config Miner","Summary"],o=a===i.length-1?Object(q.jsx)(He,{type:"submit",variant:"contained",color:"primary",children:"Save"}):Object(q.jsx)(He,{variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),t(a+1)},children:"Next"});return Object(q.jsxs)("div",{className:r.root,children:[Object(q.jsx)(Te.a,{className:r.Stepper,activeStep:a,alternativeLabel:!0,children:i.map((function(e){return Object(q.jsx)(Re.a,{children:Object(q.jsx)(Pe.a,{children:e})},e)}))}),Object(q.jsx)("div",{className:r.wrapper,children:Object(q.jsxs)("div",{className:r.wrapperContent,children:[Object(q.jsx)(f.a,{variant:"h4",className:r.instructions,children:Me(a)}),Object(q.jsx)("div",{className:r.form,children:n}),Object(q.jsxs)("div",{children:[Object(q.jsx)(w.a,{disabled:0===a,onClick:function(e){e.preventDefault(),t(a-1)},className:r.backButton,children:"Back"}),o]})]})})]})}function Me(e){switch(e){case 0:return"Type the worker name";case 1:return"Mining mode: GPU or CPU?";case 2:return"Configure the pool you want to use";case 3:return"Select the coin you want to mine";case 4:return"Select the wallet you want to use";case 5:return"Config the miner software you want to use";case 6:return"Worker Settings";default:return"Unknown stepIndex"}}var Ae=a(483);function ze(e){var t=e.name,a=e.touched,n=void 0===a||a,r=e.autoFocus,o=void 0!==r&&r,c=e.validators,s=e.label,l=e.variant,d=e.inputProps,u=Object(We.i)(c),j=Object(i.a)(u,2),p=j[0],h=j[1],b=Object(We.f)(Object(x.a)({type:"text",name:t,touched:n},h)),m=void 0!==p.error;return Object(q.jsx)(Ae.a,Object(x.a)({fullWidth:!0,autoFocus:o,label:s,variant:l,error:m,inputProps:d},b))}function _e(){return Object(q.jsx)("div",{style:{maxWidth:"624px",padding:"0 24px",margin:"auto"},children:Object(q.jsx)(ze,{autoFocus:!0,touched:!0,helperText:"Accept letters, numbers and [#-_]...{2,50}",validators:[Ue],label:"Type Worker Name...",variant:"outlined",name:"workerName"})})}var Ue=function(e){return e&&/^[a-zA-Z][a-zA-Z0-9#\-_]{2,50}$/.test(e)?void 0:"Name not valid"},Fe=a(229),Ve=["onChangeValue","name","options","validators","matchValue","reduceValue","autoFocus","isMulti","isOptionDisabled"];function Ge(e){var t=e.onChangeValue,a=e.name,n=e.options,r=e.validators,c=e.matchValue,s=e.reduceValue,l=e.autoFocus,d=void 0===l||l,u=e.isMulti,j=void 0!==u&&u,p=e.isOptionDisabled,h=void 0===p?function(){return!1}:p,b=Object(ke.a)(e,Ve),m=Object(We.i)(r),f=Object(i.a)(m,2)[1],v=Object(o.useRef)(),O=Object(We.f)(Object(x.a)({type:"custom",name:a},f)),g=O.value,w=O.setValue,N="function"===typeof c?c(n,g):j?g:n.find((function(e){return e.value===g}));return Object(o.useEffect)((function(){d&&setTimeout((function(){return v.current&&v.current.focus()}),150)}),[d]),Object(q.jsx)(Fe.a,Object(x.a)({maxMenuHeight:150,ref:v,options:n,onChange:function(e){var a;a=j?e:e.value,"function"===typeof s&&(a=s(a)),w(a),null===t||void 0===t||t(a)},value:N,isMulti:j,isOptionDisabled:function(){return h(N)}},b))}function qe(e){var t=e.options,a=void 0===t?[]:t,n=e.onChangeValue,r=Object(o.useState)((function(){return a})),c=Object(i.a)(r,2),s=c[0],l=c[1],d=Object(We.h)((function(e){return e.minerMode})),u=Object(i.a)(d,1)[0],j=ve("pools?algo=".concat(u)),p=j.loading,x=j.data;ye(j.error),Object(o.useEffect)((function(){x&&200===x.statusCode&&l(x.results.map((function(e){var t=e.name;return{value:t,label:t}})))}),[x]);var h=p||null===p;return Object(q.jsx)(Ge,{placeholder:"Select a pool...",onChangeValue:n,isDisabled:h,isLoading:h,options:s,name:"poolName",validators:[Ye]})}var Ye=function(e){return"string"===typeof e?void 0:"required"},Ke=function(){return null};function $e(e){var t=e.options,a=void 0===t?[]:t,n=e.onChangeValue,r=Object(We.h)((function(e){return e.poolConfig.poolName})),c=Object(i.a)(r,1)[0],s=Object(We.h)((function(e){return e.poolConfig.algo})),l=Object(i.a)(s,1)[0],d=Object(o.useState)((function(){return{}})),u=Object(i.a)(d,2),j=u[0],p=u[1],x=Object(o.useState)((function(){return a})),h=Object(i.a)(x,2),b=h[0],m=h[1],f=ve("pools/".concat(c,"/regions?algo=").concat(l.toLowerCase())),v=f.loading,O=f.data;ye(f.error),Object(o.useEffect)((function(){O&&200===O.statusCode&&(p(O.meta),m(O.results.map((function(e){var t=e.location,a=e.server;return{value:"".concat(a).trim(),label:"".concat(a," - (").concat(t,")")}}))))}),[O]);var g=v||null===v,w=j.multiRegion;return Object(q.jsx)(Ge,{reduceValue:w?function(e){return e.map((function(e){return e.value.toLowerCase()})).sort().join(",")}:null,matchValue:w?function(e,t){return null===t||void 0===t?void 0:t.split(",").map((function(t){return e.find((function(e){var a=e.value;return t.toLowerCase()===a.toLowerCase()}))}))}:null,isMulti:w,placeholder:"Select the server region...",onChangeValue:w?Ke:n,isDisabled:g,isLoading:g,options:b,name:"poolRegion",validators:[Xe],isOptionDisabled:function(e){return w&&(null===e||void 0===e?void 0:e.length)>=2}})}var Xe=function(e){return"string"===typeof e?void 0:"required"};function Je(e){var t=e.options,a=void 0===t?[]:t,n=e.onChangeValue,r=Object(o.useState)((function(){return a})),c=Object(i.a)(r,2),s=c[0],l=c[1],d=Object(We.h)((function(e){return e.poolConfig.poolName})),u=Object(i.a)(d,1)[0],j=Object(We.h)((function(e){return e.minerMode})),p=Object(i.a)(j,1)[0],x=ve("pools/".concat(u,"/algos/").concat(p.toLowerCase())),h=x.loading,b=x.data;ye(x.error),Object(o.useEffect)((function(){b&&200===b.statusCode&&l(b.results.map((function(e){return{value:e.value,label:e.label.toUpperCase()}})))}),[b]);var m=h||null===h;return Object(q.jsx)(Ge,{placeholder:"Select an algorithm...",isDisabled:m,isLoading:m,options:s,onChangeValue:n,name:"algo",validators:[Ze]})}var Ze=function(e){return"string"===typeof e?void 0:"required"};function Qe(e){var t=e.options,a=void 0===t?[]:t,n=e.onChangeValue,r=Object(We.h)((function(e){return e.poolConfig.poolName})),c=Object(i.a)(r,1)[0],s=Object(We.h)((function(e){return e.poolConfig.poolRegion})),l=Object(i.a)(s,1)[0],d=Object(o.useState)((function(){return a})),u=Object(i.a)(d,2),j=u[0],p=u[1],x=ve("pools/".concat(c,"/regions?serverName=").concat(l)),h=x.loading,b=x.data;ye(x.error),Object(o.useEffect)((function(){if(b&&200===b.statusCode){var e=b.meta.ports,t=Object(i.a)(b.results,1)[0],a=(null===t||void 0===t?void 0:t.ports)||e,n={0:function(e){return"".concat(e," - (Suggested)")},1:function(e){return"".concat(e," - (Alternative)")},2:function(e){return"".concat(e," - (Alternative)")}},r=(null===a||void 0===a?void 0:a.length)>1;a&&p(a.map((function(e,t){return{value:e,label:r?n[t](e):e}})))}}),[b]);var m=h||null===h;return Object(q.jsx)(Ge,{placeholder:"Select the port...",onChangeValue:n,isDisabled:m,isLoading:m,options:j,name:"poolPort",validators:[et]})}var et=function(e){return"string"===typeof e?void 0:"required"};function tt(e){var t=e.activeStep,a=e.children,n=e.evaluateNext,r=e.evaluatePrev,i=e.next,o=e.prev,c=at(),s=Object(We.g)().state,l=null===n||void 0===n?void 0:n(s,t),d=null===r||void 0===r?void 0:r(s,t);return Object(q.jsxs)("div",{className:c.root,children:[Object(q.jsx)("div",{className:c.children,children:a}),Object(q.jsxs)("div",{className:c.buttons,children:[Object(q.jsx)(w.a,{disabled:!d,size:"small",onClick:o,children:"Prev"}),Object(q.jsx)(w.a,{disabled:!l,size:"small",onClick:i,color:"primary",children:"Next"})]})]})}var at=Object(O.a)((function(){return{root:{display:"flex",flex:1,flexDirection:"column"},children:{flex:1,marginTop:"24px"},buttons:{width:"35%",display:"flex",justifyContent:"space-evenly",marginTop:"16px",marginLeft:"auto",marginRight:"auto"}}}));function nt(){var e=["Name","Algorithm","Region","Port"],t=Object(o.useState)((function(){return 0})),a=Object(i.a)(t,2),n=a[0],r=a[1],c=rt(),s=function(){return r((function(e){return++e}))},l=function(e){var t=e.currentTarget;t.classList.contains("MuiStep-completed")&&r(Number(t.dataset.index))};return Object(q.jsxs)("div",{children:[Object(q.jsx)("div",{style:{maxWidth:"624px",padding:"0 24px",margin:"auto"},children:Object(q.jsx)(Te.a,{className:c.Stepper,activeStep:n,children:e.map((function(e,t){return Object(q.jsx)(Re.a,{"data-index":t,onClick:l,children:Object(q.jsx)(Pe.a,{children:e})},e)}))})}),Object(q.jsx)(tt,{activeStep:n,prev:function(){return r((function(e){return--e}))},next:s,evaluatePrev:ot,evaluateNext:it,children:Object(q.jsx)(We.a,{object:!0,name:"poolConfig",validators:[ct],children:Object(q.jsx)(We.d,{children:Object(q.jsxs)("div",{style:{maxWidth:"624px",padding:"0 24px",margin:"auto"},children:[0===n&&Object(q.jsx)(qe,{onChangeValue:s},"0"),1===n&&Object(q.jsx)(Je,{onChangeValue:s},"1"),2===n&&Object(q.jsx)($e,{onChangeValue:s},"2"),3===n&&Object(q.jsx)(Qe,{},"3")]})})})})]})}var rt=Object(O.a)((function(){return{Stepper:{paddingTop:0,overflow:"auto"}}}));function it(e,t){var a,n,r,i,o,c;return 0===t&&(null===(a=e.poolConfig)||void 0===a?void 0:a.poolName)||1===t&&(null===(n=e.poolConfig)||void 0===n?void 0:n.poolName)&&(null===(r=e.poolConfig)||void 0===r?void 0:r.algo)||2===t&&(null===(i=e.poolConfig)||void 0===i?void 0:i.poolName)&&(null===(o=e.poolConfig)||void 0===o?void 0:o.algo)&&(null===(c=e.poolConfig)||void 0===c?void 0:c.poolRegion)}function ot(e,t){return t>0}function ct(e){return(null===e||void 0===e?void 0:e.poolName)&&(null===e||void 0===e?void 0:e.poolPort)&&(null===e||void 0===e?void 0:e.poolRegion)?void 0:"error"}function st(e){var t=e.options,a=void 0===t?[]:t,n=Object(o.useState)((function(){return a})),r=Object(i.a)(n,2),c=r[0],s=r[1],l=Object(We.h)((function(e){return e.poolConfig.poolName})),d=Object(i.a)(l,1)[0],u=Object(We.h)((function(e){return e.poolConfig.algo})),j=Object(i.a)(u,1)[0],p=ve("pools/".concat(d,"/coins?algo=").concat(j)),x=p.loading,h=p.data;ye(p.error),Object(o.useEffect)((function(){h&&200===h.statusCode&&s(h.results.map((function(e){var t=e.symbol;return{value:t.toUpperCase(),label:t.toUpperCase()}})))}),[h]);var b=x||null===x;return Object(q.jsx)("div",{style:{maxWidth:"624px",padding:"0px 24px",margin:"auto"},children:Object(q.jsx)(Ge,{placeholder:"Select a coin...",isDisabled:b,isLoading:b,options:c,name:"coinName",validators:[lt]})})}var lt=function(e){return"string"===typeof e?void 0:"required"};function dt(e){var t=e.options,a=void 0===t?[]:t,n=e.onChangeValue,r=Object(o.useState)((function(){return a})),c=Object(i.a)(r,2),s=c[0],l=c[1],d=ve("wallets"),u=d.loading,j=d.data;ye(d.error),Object(o.useEffect)((function(){j&&200===j.statusCode&&l(j.results.map((function(e){var t=e.walletName;return{value:t,label:t}})))}),[j]);var p=u||null===u;return Object(q.jsx)(Ge,{placeholder:"Pick a wallet...",onChangeValue:n,isDisabled:p,isLoading:p,options:s,name:"walletName",validators:[ut]})}var ut=function(e){return"string"===typeof e?void 0:"required"};function jt(e){var t=e.coinName,a=xt(),n=Object(We.h)((function(e){return e.addNewCoinForm.walletName})),r=Object(i.a)(n,1)[0],o=t.split("+");return Object(q.jsx)(We.a,{array:!0,name:"addresses",children:o.map((function(e,t){return Object(q.jsx)(ze,{index:t,className:a.TextField,autoFocus:0===t,helperText:"Add a valid '".concat(e,"' Address - Wallet: '").concat(r,"'"),validators:[pt],label:"Type your '".concat(e,"' Address..."),variant:"outlined"},e)}))})}var pt=function(e){return"string"===typeof e&&e.trim().length>=5?void 0:"Address not valid"},xt=Object(O.a)((function(){return{TextField:{marginTop:"4px",marginBottom:"32px"}}})),ht=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={domElm:null},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state.domElm;return null===e?null:r.a.createPortal(this.props.children,e)}}],[{key:"getDerivedStateFromProps",value:function(e){return{domElm:document.querySelector(e.selector)}}}]),a}(c.a.PureComponent),bt=["addresses"];function mt(e){var t=e.coinName,a=e.toggleWalletForm,n=["Pick a Wallet","Coin Address"],r=ft(),c=te().bus,s=Object(o.useState)(0),l=Object(i.a)(s,2),d=l[0],u=l[1],j=ye().setError,p=Object(We.g)().state,h=function(e){var t,a;null===e||void 0===e||null===(t=e.preventDefault)||void 0===t||t.call(e),null===e||void 0===e||null===(a=e.stopPropagation)||void 0===a||a.call(e),d<n.length-1&&u(d+1)},b=function(){var e=Object(I.a)(B.a.mark((function e(n){var r,i,o,s,l,d;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===n||void 0===n||null===(r=n.preventDefault)||void 0===r||r.call(n),null===n||void 0===n||null===(i=n.stopPropagation)||void 0===i||i.call(n),e.prev=2,o=Object(x.a)(Object(x.a)({},p.addNewCoinForm),{},{coinName:t}),s=o.addresses,(l=Object(ke.a)(o,bt)).address=s.join("."),e.next=8,J("coins",{method:"POST",body:l});case 8:a(),c.emit("GO_NEXT"),e.next=18;break;case 12:return e.prev=12,e.t0=e.catch(2),console.log(e.t0),d="Error saving ".concat(t," address!"),j(new Error(d)),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),m=d>=n.length-1,v=m?b:h,O=m&&Object(q.jsx)(y.a,{});return Object(q.jsx)(ht,{selector:"#FormWorkerPortal",children:Object(q.jsxs)("div",{className:r.FormWrapper,children:[Object(q.jsxs)(f.a,{variant:"h4",children:["Add ",Object(q.jsx)("b",{children:t})," into an existing wallet..."]}),Object(q.jsx)(Te.a,{className:r.Stepper,activeStep:d,alternativeLabel:!0,children:n.map((function(e){return Object(q.jsx)(Re.a,{children:Object(q.jsx)(Pe.a,{children:e})},e)}))}),Object(q.jsx)("div",{className:r.Form,children:Object(q.jsxs)(We.a,{object:!0,name:"addNewCoinForm",children:[Object(q.jsxs)(We.d,{children:[0===d&&Object(q.jsx)(dt,{onChangeValue:h},d),1===d&&Object(q.jsx)(jt,{coinName:t},d)]}),Object(q.jsxs)("div",{className:r.Buttons,children:[Object(q.jsx)(w.a,{disabled:0===d,onClick:function(e){var t,a;null===e||void 0===e||null===(t=e.preventDefault)||void 0===t||t.call(e),null===e||void 0===e||null===(a=e.stopPropagation)||void 0===a||a.call(e),d>=0&&u(d-1)},className:r.backButtonForm,children:"Back"}),Object(q.jsx)(He,{variant:"contained",color:"primary",onClick:v,startIcon:O,children:m?"Add":"Next"})]})]})})]})})}var ft=Object(O.a)((function(e){return{FormWrapper:{width:"100%",height:"100%",top:"0",left:"0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly",position:"absolute",background:"white",zIndex:2},Form:{display:"flex",flexDirection:"column",height:"33%",width:"100%",maxWidth:"50%",justifyContent:"space-around"},Stepper:{width:"100%",maxWidth:"45%"},backButton:{position:"absolute",zIndex:2,top:"16px",left:"16px"},backButtonForm:{marginRight:e.spacing(4)},Buttons:{display:"flex",justifyContent:"center"}}}));function vt(e){var t,a=e.options,n=void 0===a?[]:a,r=gt(),c=Object(o.useState)((function(){return n})),s=Object(i.a)(c,2),l=s[0],d=s[1],u=Object(We.h)((function(e){return e.coinName})),j=Object(i.a)(u,1)[0],p=Object(o.useState)((function(){return!1})),x=Object(i.a)(p,2),h=x[0],b=x[1],m=function(){return b((function(e){return!e}))},v=ve("coins?coinName=".concat(encodeURIComponent(j))),O=v.loading,g=v.data;ye(v.error),Object(o.useEffect)((function(){g&&200===g.statusCode&&d(g.results.map((function(e){var t=e.address,a=e.walletName;return{value:a,label:"".concat(a,":").concat(t)}})))}),[g]);var N=O||null===O,C=(null===g||void 0===g||null===(t=g.results)||void 0===t?void 0:t.length)<=0;return Object(q.jsxs)(q.Fragment,{children:[!C&&Object(q.jsx)(We.d,{children:Object(q.jsx)("div",{style:{maxWidth:"624px",padding:"0px 24px",margin:"auto"},children:Object(q.jsx)(Ge,{placeholder:"Select a wallet for: ".concat(j),isDisabled:N,isLoading:N,options:l,name:"walletName",validators:[Ot]})})}),C&&Object(q.jsxs)("div",{className:r.NoWallets,children:[Object(q.jsxs)(f.a,{color:"textSecondary",gutterBottom:!0,children:["None of your wallets contains the coin: ",Object(q.jsx)("b",{children:j})]}),Object(q.jsxs)(w.a,{size:"small",variant:"contained",disableElevation:!0,color:"primary",startIcon:Object(q.jsx)(y.a,{}),onClick:m,children:["Add ",j," to a Wallet"]})]}),h&&Object(q.jsx)(mt,{toggleWalletForm:m,coinName:j})]})}var Ot=function(e){return"string"===typeof e?void 0:"required"},gt=Object(O.a)((function(){return{NoWallets:{width:"100%",height:"80px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",position:"relative"}}}));function wt(e){var t=e.options,a=void 0===t?[]:t,n=e.modeTarget,r=e.onChangeValue,c=Object(o.useState)((function(){return a})),s=Object(i.a)(c,2),l=s[0],d=s[1],u=Object(We.h)((function(e){return e.poolConfig.algo})),j=Object(i.a)(u,1)[0],p=ve("miners/_installed?algo=".concat(j)),x=p.loading,h=p.data;ye(p.error);Object(o.useEffect)((function(){h&&200===h.statusCode&&d(h.results.filter((function(e){return e.minerMode.toLowerCase()===n.toLowerCase()})).map((function(e){var t=e.minerName,a=e.assetId,n=e.tagName;return{value:{minerName:t,minerAssetId:a,minerTagName:n,supportGPUsRegex:e.supportGPUsRegex},label:"".concat(t,": ").concat(n)}})))}),[h]);var b=x||null===x;return Object(q.jsx)("div",{style:{maxWidth:"624px",padding:"0px 24px",margin:"auto"},children:Object(q.jsx)(Ge,{placeholder:"Select a miner tool...",isDisabled:b,isLoading:b,options:l,matchValue:function(e,t){return e.find((function(e){var a=e.value;return(null===a||void 0===a?void 0:a.minerAssetId)===(null===t||void 0===t?void 0:t.minerAssetId)}))},onChangeValue:r,name:"minerInfo",validators:[Nt]})})}var Nt=function(e){return e&&"number"===typeof e.minerAssetId?void 0:"required"};function yt(e){var t=e.options,a=void 0===t?[]:t,n=Object(o.useState)((function(){return a})),r=Object(i.a)(n,2),c=r[0],s=r[1],l=Object(We.h)((function(e){return e.miner.minerInfo.supportGPUsRegex})),d=Object(i.a)(l,1)[0];console.log("supportGPUsRegex ",d);var u=ve("gpus?processor=".concat(d)),j=u.loading,p=u.data;ye(u.error),Object(o.useEffect)((function(){p&&200===p.statusCode&&s(p.results.map((function(e){var t=e.name,a=e.id;return{value:a,label:"".concat(t," - id(").concat(a,")")}})))}),[p]);var x=j||null===j;return Object(q.jsx)("div",{style:{maxWidth:"624px",padding:"0px 24px",margin:"auto"},children:Object(q.jsx)(Ge,{matchValue:function(e,t){return null===t||void 0===t?void 0:t.split(",").map((function(t){return e.find((function(e){var a=e.value;return Number(t)===Number(a)}))}))},reduceValue:function(e){return e.map((function(e){var t=e.value;return Number(t)})).sort().join(",")},placeholder:"Select gpus...",isMulti:!0,isDisabled:x,isLoading:x,options:c,name:"gpus",validators:[Ct]})})}var Ct=function(e){return"string"===typeof e&&/^(-1)$|^\d+(,\d+)*$/.test(e)?void 0:"required"};function St(e){var t=e.modeTarget,a=["Version","GPUs"],n=Object(o.useState)((function(){return 0})),r=Object(i.a)(n,2),c=r[0],s=r[1],l=kt(),d=function(){return s((function(e){return++e}))},u=function(e){var t=e.currentTarget;t.classList.contains("MuiStep-completed")&&s(Number(t.dataset.index))};return Object(q.jsxs)("div",{children:[Object(q.jsx)(Te.a,{className:l.Stepper,activeStep:c,children:a.map((function(e,t){return Object(q.jsx)(Re.a,{"data-index":t,onClick:u,children:Object(q.jsx)(Pe.a,{children:e})},e)}))}),Object(q.jsxs)(tt,{activeStep:c,prev:function(){return s((function(e){return--e}))},next:d,evaluatePrev:Bt,evaluateNext:Wt,children:[0===c&&Object(q.jsx)(wt,{onChangeValue:d,modeTarget:t},"0"),1===c&&Object(q.jsx)(yt,{},"1")]})]})}var kt=Object(O.a)((function(){return{Stepper:{paddingTop:0,maxWidth:"624px",padding:"0px 24px",margin:"auto"}}}));function Wt(e,t){var a;return 0===t&&(null===(a=e.miner)||void 0===a?void 0:a.minerInfo)}function Bt(e,t){return t>0}function It(e){var t=e.modeTarget;return Object(q.jsxs)("div",{children:[Object(q.jsx)(We.c,{type:"hidden",name:"gpus",value:"-1"}),Object(q.jsx)(wt,{modeTarget:t})]})}function Tt(){var e=Object(We.h)((function(e){return e.minerMode})),t=Object(i.a)(e,1)[0];return Object(q.jsx)("div",{children:Object(q.jsx)(We.a,{object:!0,name:"miner",validators:[Rt],children:Object(q.jsxs)(We.d,{children:["gpu"===t&&Object(q.jsx)(St,{modeTarget:t},"gpu"),"cpu"===t&&Object(q.jsx)(It,{modeTarget:t},"cpu")]})})})}function Rt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).every((function(t){return"undefined"!==typeof e[t]}))?void 0:"error"}function Pt(e){var t=e.activeStep,a=Object(We.f)({type:"custom",name:"activeStep",value:t}),n=a.value,r=a.setValue;return Object(o.useEffect)((function(){t!==n&&r(t)}),[t,n]),null}var Dt=["activeStep","minerMode","poolConfig","miner"];function Ht(){var e=Object(We.g)().state,t=Et(),a=(e.activeStep,e.minerMode),n=e.poolConfig,r=e.miner,i=Object(ke.a)(e,Dt),o=r.minerInfo,c=r.gpus,s="gpu"===a?Object(x.a)(Object(x.a)(Object(x.a)(Object(x.a)({},i),n),o),{},{gpus:c}):Object(x.a)(Object(x.a)(Object(x.a)({},i),n),o);return Object(q.jsx)("div",{className:t.Summary,children:Object.keys(Lt).filter((function(e){return s[e]})).map((function(e){return Object(q.jsxs)("div",{className:t.Tag,children:[Object(q.jsx)("span",{className:t.TagTitle,children:"".concat(Lt[e])}),":",Object(q.jsx)("span",{className:t.Tagspan,children:"".concat(s[e])})]},e)}))})}var Et=Object(O.a)({Summary:{flex:1,flexWrap:"wrap",alignItems:"center",display:"flex",justifyContent:"center",maxWidth:"640px",margin:"auto",maxHeight:"246px",overflow:"auto"},Tag:{padding:"6px 14px",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",background:"#ededed",margin:"4px"},Tagspan:{marginLeft:"4px",textDecoration:"underline",fontWeight:"bold",fontSize:"18px"},TagTitle:{textTransform:"uppercase"}}),Lt={workerName:"Worker Name",walletName:"Wallet",coinName:"Coin",poolName:"Pool Name",poolRegion:"Pool Region",poolPort:"Pool Port",minerName:"Miner",gpus:"Gpus",algo:"Algorithm"},Mt=a(486),At=a(491);function zt(){var e=Ut(),t=Object(We.f)({name:"minerMode",type:"custom",validators:[_t]}),a=t.value,n=t.setValue,r=ve("miners/_installed"),i=r.loading,o=r.data;if(i||null===i)return Object(q.jsx)("div",{className:e.loadingBar,children:Object(q.jsx)(C.a,{})});var c=((null===o||void 0===o?void 0:o.results)||[]).map((function(e){return e.minerMode})).map((function(e){return e.toLowerCase()}));if(!c.includes("gpu"))return Object(q.jsxs)("div",{className:e.ModePickerWrapper,children:[Object(q.jsx)(At.a,{row:!0,"aria-label":"minerMode",name:"minerMode",value:"cpu",children:Object(q.jsx)(S.a,{value:"cpu",control:Object(q.jsx)(Mt.a,{inputProps:{"aria-label":"CPU"}}),label:"CPU mode"})}),Object(q.jsx)(f.a,{className:e.textSecondary,color:"textSecondary",children:"You have installed miners which support CPU only."}),Object(q.jsxs)(f.a,{color:"textSecondary",children:["If you want to mine using GPU please install a miner that supports GPU. ",Object(q.jsx)(b.b,{to:"/miners",children:"Click here"})]}),Object(q.jsx)(We.c,{type:"hidden",name:"minerMode",value:"cpu"})]});if(!c.includes("cpu"))return Object(q.jsxs)("div",{className:e.ModePickerWrapper,children:[Object(q.jsx)(At.a,{row:!0,"aria-label":"minerMode",name:"minerMode",value:"gpu",children:Object(q.jsx)(S.a,{value:"gpu",control:Object(q.jsx)(Mt.a,{inputProps:{"aria-label":"GPU"}}),label:"GPU mode"})}),Object(q.jsx)(f.a,{className:e.textSecondary,color:"textSecondary",children:"You have installed miners which support GPU only."}),Object(q.jsxs)(f.a,{color:"textSecondary",children:["If you want to mine using CPU please install a miner that supports CPU. ",Object(q.jsx)(b.b,{to:"/miners",children:"Click here"})]}),Object(q.jsx)(We.c,{type:"hidden",name:"minerMode",value:"gpu"})]});return Object(q.jsx)("div",{className:e.ModePickerWrapper,children:Object(q.jsxs)(At.a,{row:!0,"aria-label":"minerMode",name:"minerMode",value:a||null,onChange:function(e){return n(e.target.value)},children:[Object(q.jsx)(S.a,{value:"gpu",control:Object(q.jsx)(Mt.a,{name:"miner-picker-mode",inputProps:{"aria-label":"GPU"}}),label:"GPU mode"}),Object(q.jsx)(S.a,{value:"cpu",control:Object(q.jsx)(Mt.a,{name:"miner-picker-mode",inputProps:{"aria-label":"CPU"}}),label:"CPU mode"})]})})}var _t=function(e){return"string"===typeof e?void 0:"required"},Ut=Object(O.a)({ModePickerWrapper:{flex:1,flexDirection:"column",alignItems:"center",display:"flex",justifyContent:"center"},loadingBar:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},textSecondary:{marginTop:"24px"}}),Ft=["activeStep","poolConfig","miner"],Vt=["supportGPUsRegex"],Gt=["minerInfo"],qt=de;function Yt(e){var t=e.match,a=Xt(),n=t.params.rigId,r=Object(h.f)(),c=Object(o.useState)(0),s=Object(i.a)(c,2),l=s[0],d=s[1],u=te().bus,j=ve("miners/_installed"),p=j.loading,b=j.error,m=ve("wallets"),v=m.loading,O=m.error;if(Object(o.useEffect)((function(){var e=function(){return d((function(e){return++e}))};return u.on("GO_NEXT",e),function(){u.off("GO_NEXT",e)}}),[]),v||null===v||p||null===p)return Object(q.jsx)("div",{className:a.loadingBar,children:Object(q.jsx)(C.a,{})});if(404===(null===b||void 0===b?void 0:b.statusCode))return Object(q.jsxs)("div",{className:a.ErrorWrapper,children:[Object(q.jsx)(f.a,{variant:"h4",children:b.message}),Object(q.jsx)(w.a,{size:"large",variant:"contained",color:"primary",startIcon:Object(q.jsx)(y.a,{}),disableElevation:!0,onClick:function(){return r.push("/miners")},children:"Install Miners"}),Object(q.jsx)(f.a,{className:a.textSecondary,color:"textSecondary",children:"Please install a miner software!"})]});if(404===(null===O||void 0===O?void 0:O.statusCode))return Object(q.jsxs)("div",{className:a.ErrorWrapper,children:[Object(q.jsx)(f.a,{variant:"h4",children:O.message}),Object(q.jsx)(w.a,{size:"large",variant:"contained",color:"primary",startIcon:Object(q.jsx)(y.a,{}),disableElevation:!0,onClick:function(){return r.push("/wallets/add-wallet")},children:"Add New Wallet"}),Object(q.jsx)(f.a,{className:a.textSecondary,color:"textSecondary",children:"You do not have any wallet yet! Please add a wallet!"})]});var g=function(){r.push("/rigs/".concat(n,"/workers"))},N=function(){var e=Object(I.a)(B.a.mark((function e(t){var a,n,r,i,o,c,s,l;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("onSubmit ",t),t.activeStep,a=t.poolConfig,n=t.miner,r=Object(ke.a)(t,Ft),i=n.minerInfo,i.supportGPUsRegex,o=Object(ke.a)(i,Vt),c=Object(ke.a)(n,Gt),s=Object(x.a)(Object(x.a)(Object(x.a)(Object(x.a)({},r),a),o),c),"workers",l=Z(J("workers",{method:"POST",body:s})),u.emit(qt,{promise:l,label:"Creating ".concat(t.workerName,"...")}),e.next=9,l;case 9:setTimeout(g,100);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(q.jsxs)("div",{className:"FormWorker",children:[Object(q.jsx)("div",{className:"FormWorker_Nav",children:Object(q.jsx)(w.a,{size:"small",variant:"contained",startIcon:Object(q.jsx)(Ie.a,{}),disableElevation:!0,onClick:g,children:"Back"})}),Object(q.jsxs)("div",{className:"FormWorker_Wrapper",children:[Object(q.jsxs)(We.b,{reducers:$t,onSubmit:N,children:[Object(q.jsx)(Pt,{activeStep:l}),Object(q.jsx)(Le,{activeStep:l,onChangeStep:function(e){return d(e)},children:Kt(l)})]}),Object(q.jsx)("div",{id:"FormWorkerPortal"})]})]})}function Kt(e){switch(e){case 0:return Object(q.jsx)(We.d,{children:Object(q.jsx)(_e,{},e)});case 1:return Object(q.jsx)(We.d,{children:Object(q.jsx)(zt,{},e)});case 2:return Object(q.jsx)(We.d,{children:Object(q.jsx)(nt,{},e)});case 3:return Object(q.jsx)(We.d,{children:Object(q.jsx)(st,{},e)});case 4:return Object(q.jsx)(vt,{},e);case 5:return Object(q.jsx)(We.d,{children:Object(q.jsx)(Tt,{},e)});case 6:return Object(q.jsx)(Ht,{},e)}}function $t(e,t){var a,n,r,i,o,c,s,l,d,u,j,p,h,b,m=e;if(void 0!==m.addNewCoinForm&&m.addNewCoinForm.walletName)return Object(x.a)(Object(x.a)({},e),{},{walletName:m.addNewCoinForm.walletName});if((null===(a=m.poolConfig)||void 0===a?void 0:a.poolName)&&(null===(n=t.poolConfig)||void 0===n?void 0:n.poolName)&&(null===(r=t.poolConfig)||void 0===r?void 0:r.poolName)!==(null===(i=m.poolConfig)||void 0===i?void 0:i.poolName)){var f=m.workerName,v=m.minerMode;return{workerName:f,poolConfig:{poolName:m.poolConfig.poolName},minerMode:v}}if((null===(o=m.poolConfig)||void 0===o?void 0:o.algo)&&(null===(c=t.poolConfig)||void 0===c?void 0:c.algo)&&(null===(s=t.poolConfig)||void 0===s?void 0:s.algo)!==(null===(l=m.poolConfig)||void 0===l?void 0:l.algo)){var O=m.workerName,g=m.minerMode,w=m.poolConfig;return{workerName:O,poolConfig:{poolName:w.poolName,algo:w.algo},minerMode:g}}if(m.minerMode&&t.minerMode&&t.minerMode!==m.minerMode)return{workerName:m.workerName,minerMode:m.minerMode};if(m.coinName&&t.coinName&&t.coinName!==m.coinName)return{workerName:m.workerName,coinName:m.coinName,poolConfig:m.poolConfig,minerMode:m.minerMode};if((null===(d=m.miner)||void 0===d?void 0:d.minerInfo)&&(null===(u=t.miner)||void 0===u?void 0:u.minerInfo)&&(null===(j=t.miner)||void 0===j||null===(p=j.minerInfo)||void 0===p?void 0:p.minerName)!==(null===(h=m.miner)||void 0===h||null===(b=h.minerInfo)||void 0===b?void 0:b.minerName)){var N=m.miner.minerInfo;return Object(x.a)(Object(x.a)({},m),{},{miner:{minerInfo:N}})}return m}var Xt=Object(O.a)((function(){return{ErrorWrapper:{width:"100%",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",alignItems:"center","& > button":{marginTop:"24px"}},loadingBar:{width:"100%",display:"flex",height:"100%",justifyContent:"center",alignItems:"center"},textSecondary:{marginTop:"24px"}}})),Jt=a(473),Zt=a(218),Qt=a.n(Zt),ea=a(32),ta=a.n(ea);function aa(e){var t=e.goToSummary,a=Object(We.g)().state,n=na.validate(a).error;return Object(q.jsx)(Jt.a,{disabled:n,style:{flexShrink:0,position:"absolute",left:"auto",right:"16px",top:"auto",bottom:"16px"},onClick:t,color:"secondary","aria-label":"summary",children:Object(q.jsx)(Qt.a,{})})}var na=ta.a.object({activeStep:ta.a.number().required(),coinName:ta.a.string().required(),minerMode:ta.a.string().required(),walletName:ta.a.string().required(),workerName:ta.a.string().required(),miner:ta.a.object({gpus:ta.a.string().required(),minerInfo:ta.a.object({minerAssetId:ta.a.number().required(),minerName:ta.a.string().required(),minerTagName:ta.a.string().required(),supportGPUsRegex:ta.a.string()})}).required(),poolConfig:ta.a.object({algo:ta.a.string().required(),poolName:ta.a.string().required(),poolPort:ta.a.string().required(),poolRegion:ta.a.string().required()}).required()}),ra=Object(O.a)((function(){return{loadingBar:{width:"100%",display:"flex",height:"100%",flexDirection:"column",justifyContent:"center",alignItems:"center"},label:{marginBottom:"32px"}}}));function ia(e){var t=ra();return Object(q.jsxs)("div",{className:t.loadingBar,children:[e.label&&Object(q.jsx)(f.a,{className:t.label,color:"textSecondary",gutterBottom:!0,children:e.label}),Object(q.jsx)(C.a,Object(x.a)({},e))]})}var oa=["activeStep","poolConfig","miner"],ca=["supportGPUsRegex"],sa=["minerInfo"],la=de;function da(e){var t=e.match,a=Object(h.f)(),n=Object(o.useState)(0),r=Object(i.a)(n,2),c=r[0],s=r[1],l=te().bus,d=t.params,u=d.rigId,j=d.workerId,p=ve("workers/".concat(j)),b=p.data,m=p.loading;if(ye(p.error),Object(o.useEffect)((function(){var e=function(){return s((function(e){return++e}))};return l.on("GO_NEXT",e),function(){l.off("GO_NEXT",e)}}),[]),m||null===m)return Object(q.jsx)(ia,{size:60,label:"Loading worker info in progress..."});var f=function(){return a.push("/rigs/".concat(u,"/workers"))},v=function(){var e=Object(I.a)(B.a.mark((function e(t){var a,n,r,i,o,c,s,d,u;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("onSubmit ",t),t.activeStep,a=t.poolConfig,n=t.miner,r=Object(ke.a)(t,oa),i=n.minerInfo,i.supportGPUsRegex,o=Object(ke.a)(i,ca),c=Object(ke.a)(n,sa),s=Object(x.a)(Object(x.a)(Object(x.a)(Object(x.a)({},r),a),o),c),d="workers/".concat(j),u=Z(J(d,{method:"PUT",body:s})),l.emit(la,{promise:u,label:"Saving changes for ".concat(t.workerName,"...")}),e.next=9,u;case 9:setTimeout(f,100);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e){var t=e.workerName,a=e.walletName,n=e.poolRegion,r=e.poolName,i=e.poolPort,o=e.minerMode,c=e.gpus,s=e.algo,l=e.coinName,d=e.minerName,u=e.minerTagName,j=e.minerAssetId,p=e.supportGPUsRegex,x={minerName:d,minerAssetId:j,minerTagName:u,supportGPUsRegex:p};return{workerName:t,walletName:a,poolConfig:{poolRegion:n,poolName:r,poolPort:String(i),algo:s},minerMode:o,coinName:l,miner:{minerInfo:x,gpus:c}}}(b.results);return Object(q.jsxs)("div",{className:"FormWorker",children:[Object(q.jsx)("div",{className:"FormWorker_Nav",children:Object(q.jsx)(w.a,{size:"small",variant:"contained",startIcon:Object(q.jsx)(Ie.a,{}),disableElevation:!0,onClick:f,children:"Back"})}),Object(q.jsxs)("div",{className:"FormWorker_Wrapper",children:[Object(q.jsxs)(We.b,{initialState:O,reducers:ja,onSubmit:v,children:[Object(q.jsx)(Pt,{activeStep:c}),Object(q.jsx)(Le,{activeStep:c,onChangeStep:function(e){return s(e)},children:ua(c)}),6!=c&&Object(q.jsx)(aa,{goToSummary:function(){return s(6)}})]}),Object(q.jsx)("div",{id:"FormWorkerPortal"})]})]})}function ua(e){switch(e){case 0:return Object(q.jsx)(We.d,{children:Object(q.jsx)(_e,{})},e);case 1:return Object(q.jsx)(We.d,{children:Object(q.jsx)(zt,{})},e);case 2:return Object(q.jsx)(We.d,{children:Object(q.jsx)(nt,{})},e);case 3:return Object(q.jsx)(We.d,{children:Object(q.jsx)(st,{})},e);case 4:return Object(q.jsx)(vt,{},e);case 5:return Object(q.jsx)(We.d,{children:Object(q.jsx)(Tt,{})},e);case 6:return Object(q.jsx)(Ht,{},e)}}function ja(e,t){var a,n,r,i,o,c,s,l,d,u,j,p,h,b,m=e;if(void 0!==m.addNewCoinForm&&m.addNewCoinForm.walletName)return Object(x.a)(Object(x.a)({},e),{},{walletName:m.addNewCoinForm.walletName});if((null===(a=m.poolConfig)||void 0===a?void 0:a.poolName)&&(null===(n=t.poolConfig)||void 0===n?void 0:n.poolName)&&(null===(r=t.poolConfig)||void 0===r?void 0:r.poolName)!==(null===(i=m.poolConfig)||void 0===i?void 0:i.poolName)){var f=m.workerName,v=m.minerMode;return{workerName:f,poolConfig:{poolName:m.poolConfig.poolName},minerMode:v}}if((null===(o=m.poolConfig)||void 0===o?void 0:o.algo)&&(null===(c=t.poolConfig)||void 0===c?void 0:c.algo)&&(null===(s=t.poolConfig)||void 0===s?void 0:s.algo)!==(null===(l=m.poolConfig)||void 0===l?void 0:l.algo)){var O=m.workerName,g=m.minerMode,w=m.poolConfig;return{workerName:O,poolConfig:{poolName:w.poolName,algo:w.algo},minerMode:g}}if(m.minerMode&&t.minerMode&&t.minerMode!==m.minerMode)return{workerName:m.workerName,minerMode:m.minerMode};if(m.coinName&&t.coinName&&t.coinName!==m.coinName)return{workerName:m.workerName,coinName:m.coinName,poolConfig:m.poolConfig,minerMode:m.minerMode};if((null===(d=m.miner)||void 0===d?void 0:d.minerInfo)&&(null===(u=t.miner)||void 0===u?void 0:u.minerInfo)&&(null===(j=t.miner)||void 0===j||null===(p=j.minerInfo)||void 0===p?void 0:p.minerName)!==(null===(h=m.miner)||void 0===h||null===(b=h.minerInfo)||void 0===b?void 0:b.minerName)){var N=m.miner.minerInfo;return Object(x.a)(Object(x.a)({},m),{},{miner:{minerInfo:N}})}return m}var pa,xa=a(223),ha=a.n(xa),ba=a(222),ma=a.n(ba),fa=a(219),va=a.n(fa),Oa=a(411),ga=a(85),wa=a.n(ga),Na=function(e){var t=e.worker,a=e.meta,n=ya(),r=t.coinName,i=t.address,o=a.statsUrl,c="icons/".concat(r,".png"),s=i.split("."),l=s.length>1?s.map((function(e){return"".concat(e.slice(0,10),"...").concat(e.slice(-10))})).join("."):i;return Object(q.jsx)("div",{className:n.root,children:Object(q.jsxs)("div",{className:n.Wrapper,children:[Object(q.jsxs)("div",{className:n.infoBarWrapper,children:[Object(q.jsx)("img",{src:c,alt:r,className:n.coinSrc}),Object(q.jsxs)(f.a,{variant:"h6",component:"h6",className:n.infoBar,children:[r,":",l]}),Object(q.jsx)(Oa.a,{title:"Copy Address",className:n.CopyButton,size:"small",onClick:function(){return navigator.clipboard.writeText(i)},"aria-label":"copy address",children:Object(q.jsx)(wa.a,{})})]}),Object(q.jsx)(w.a,{className:n.ButtonSettings,size:"small",color:"primary",variant:"contained",title:"Pool Settings",onClick:function(){return window.open(o,"_blank")},startIcon:Object(q.jsx)(va.a,{}),children:Object(q.jsx)("span",{className:"btn-label",children:"Settings"})})]})})},ya=Object(O.a)({root:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"},ButtonSettings:Object(g.a)({},"@media (max-width:900px)",{"& .btn-label":{display:"none"},"& .MuiButton-startIcon":{margin:"0"},padding:"8px",minWidth:"initial"}),Wrapper:{display:"flex",alignItems:"center",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",justifyContent:"space-between"},CopyButton:{marginLeft:"16px",padding:"4px"},coinSrc:{width:"32px",height:"auto"},infoBarWrapper:{display:"flex",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},infoBar:{textTransform:"uppercase",marginLeft:"16px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}});var Ca=function(e){var t=e.worker,a=e.onClose,n=Sa(),r=Object(o.useState)((function(){return 1})),c=Object(i.a)(r,2),s=c[0],l=c[1],d=Object(o.useState)((function(){return""})),u=Object(i.a)(d,2),j=u[0],p=u[1],x=Object(o.useRef)(),h=Object(o.useRef)(),b=ve("workers/".concat(t.id,"/_logs?refreshId=").concat(s)).data;return Object(o.useEffect)((function(){(null===b||void 0===b?void 0:b.results)&&""!==(null===b||void 0===b?void 0:b.results.trim())&&(h.current=b,p(b.results),x.current.scrollTop=x.current.scrollHeight)}),[b]),Object(o.useEffect)((function(){setInterval((function(){var e;(null===(e=h.current)||void 0===e?void 0:e.results)&&l((function(e){return++e}))}),5e3)}),[]),Object(q.jsxs)("div",{className:n.root,children:[Object(q.jsx)("div",{className:n.NavBar,children:Object(q.jsx)(w.a,{size:"small",variant:"contained",startIcon:Object(q.jsx)(Ie.a,{}),disableElevation:!0,onClick:a,children:"Back"})}),Object(q.jsx)("div",{className:n.LogsWrapper,children:Object(q.jsx)("div",{ref:x,className:n.Wrapper,dangerouslySetInnerHTML:{__html:j||"Loading logs..."}})})]})},Sa=Object(O.a)({root:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"white",flexDirection:"column"},NavBar:{width:"100%",display:"flex",padding:"16px 8px"},LogsWrapper:(pa={overflow:"hidden",display:"flex",justifyContent:"center",width:"100%",padding:"0 8px 8px 8px"},Object(g.a)(pa,"overflow","auto"),Object(g.a)(pa,"flex",1),pa),Wrapper:{fontFamily:"monospace",width:"100%",height:"100%",borderRadius:"5px",padding:"16px",backgroundColor:"black",color:"white",overflow:"auto","& p":{padding:0,margin:0},"&::-webkit-scrollbar":{width:"5px"},"&::-webkit-scrollbar-track":{background:"#f1f1f1"},"&::-webkit-scrollbar-thumb":{background:"#888"},"&::-webkit-scrollbar-thumb:hover":{background:"#555"}}}),ka=function(e){var t=e.session,a=Wa(),n=t.uptime,r=t.activeGPUs,i=t.totalPower,o=t.performance,c=t.performanceUnit;return Object(q.jsx)("div",{className:a.root,children:Object(q.jsx)("div",{className:a.Wrapper,children:Object(q.jsxs)("div",{className:a.infoBarWrapper,children:[Object(q.jsxs)("div",{className:a.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[o," ",c]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Total Hashrate"})]}),Object(q.jsxs)("div",{className:a.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[i," W"]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Total Power"})]}),Object(q.jsxs)("div",{className:a.infoBox,children:[Object(q.jsx)(f.a,{variant:"h6",component:"h6",children:r}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"GPUs"})]}),Object(q.jsxs)("div",{className:a.infoBox,children:[Object(q.jsx)(f.a,{variant:"h6",component:"h6",children:Ba(n)}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Uptime"})]})]})})})},Wa=Object(O.a)({root:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"},Wrapper:{display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flexDirection:"column",overflow:"auto"},infoBarWrapper:{display:"flex",justifyContent:"space-between"},infoBox:{flexShrink:"0",display:"flex",flexDirection:"column",marginLeft:"70px","&:first-child":{marginLeft:"0"},"& > h6":{fontWeight:"bolder"}},infoBar:{fontSize:16,fontWeight:"bolder",display:"flex",alignItems:"center","& > span":{marginRight:"4px"}}});function Ba(e){e=Number(e);var t=Math.floor(e/3600),a=Math.floor(e%3600/60),n=Math.floor(e%3600%60),r=t>0?t+"h":"",i=a>0?a+"m":"",o=n>0?n+"s":"";return t>0&&a>0?"".concat(r,", ").concat(i):t>0&&0===a?"".concat(r):a>0&&n>0?"".concat(i,", ").concat(o):"".concat(a>0&&0===n?i:o)}var Ia=a(475),Ta=a(479),Ra=a(478),Pa=a(474),Da=a(476),Ha=a(477),Ea=function(e){var t=e.gpus,a=La();return t?Object(q.jsx)("div",{className:a.root,children:Object(q.jsx)(Pa.a,{className:a.table,children:Object(q.jsxs)(Ia.a,{"aria-label":"miner details",children:[Object(q.jsx)(Da.a,{children:Object(q.jsxs)(Ha.a,{children:[Object(q.jsx)(Ra.a,{className:a.TableHead,children:"Id"}),Object(q.jsx)(Ra.a,{className:a.TableHead,children:"GPU Model"}),Object(q.jsx)(Ra.a,{className:a.TableHead,children:"MH/S"}),Object(q.jsx)(Ra.a,{className:a.TableHead,children:"Power"}),Object(q.jsx)(Ra.a,{className:a.TableHead,children:"Temp"}),Object(q.jsx)(Ra.a,{className:a.TableHead,children:"Fan Speed"})]})}),Object(q.jsx)(Ta.a,{children:t.map((function(e){var t=e.idGpu,a=e.name,n=e.performance,r=e.power,i=e.fanSpeed,o=e.temp;return Object(q.jsxs)(Ha.a,{children:[Object(q.jsx)(Ra.a,{component:"th",scope:"row",children:t}),Object(q.jsx)(Ra.a,{component:"th",scope:"row",children:a}),Object(q.jsx)(Ra.a,{component:"th",scope:"row",children:n}),Object(q.jsxs)(Ra.a,{component:"th",children:[r," W"]}),Object(q.jsxs)(Ra.a,{component:"th",children:[o," \xb0C"]}),Object(q.jsxs)(Ra.a,{component:"th",children:[i," %"]})]},t)}))})]})})}):null},La=Object(O.a)({root:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"},table:{flex:1,border:"1px solid #e8eff7",borderRadius:"5px"},TableHead:{fontWeight:"bold",textTransform:"uppercase"}}),Ma=function(){var e=Aa();return Object(q.jsx)("div",{className:e.Box,children:Object(q.jsx)("div",{className:e.BoxBorder,children:Object(q.jsx)("div",{className:e.loadingBar,children:Object(q.jsx)(C.a,{})})})})},Aa=Object(O.a)({loadingBar:{width:"100%",display:"flex",height:"100%",justifyContent:"center",alignItems:"center"},BoxBorder:{display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",justifyContent:"center",alignItems:"center"},Box:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"}}),za=function(e){var t=e.children,a=_a();return Object(q.jsx)("div",{className:a.Box,children:Object(q.jsx)("div",{className:a.BoxBorder,children:Object(q.jsx)(f.a,{variant:"h5",component:"h5",children:t})})})},_a=Object(O.a)({BoxBorder:{display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",justifyContent:"center",alignItems:"center"},Box:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"}}),Ua=Object(O.a)({root:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column"}}),Fa=function(e){var t=e.session,a=Va(),n=t.uptime,r=t.validShares,i=t.totalShares,o=t.performance,c=t.performanceUnit;return Object(q.jsx)("div",{className:a.root,children:Object(q.jsx)("div",{className:a.Wrapper,children:Object(q.jsxs)("div",{className:a.infoBarWrapper,children:[Object(q.jsxs)("div",{className:a.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[o," ",c]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Total Hashrate"})]}),Object(q.jsxs)("div",{className:a.infoBox,children:[Object(q.jsx)(f.a,{variant:"h6",component:"h6",children:r}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Valid Shares"})]}),Object(q.jsxs)("div",{className:a.infoBox,children:[Object(q.jsx)(f.a,{variant:"h6",component:"h6",children:i}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Total Shares"})]}),Object(q.jsxs)("div",{className:a.infoBox,children:[Object(q.jsx)(f.a,{variant:"h6",component:"h6",children:Ga(n)}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Uptime"})]})]})})})},Va=Object(O.a)({root:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"},Wrapper:{display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flexDirection:"column",overflow:"auto"},infoBarWrapper:{overflow:"auto",display:"flex",justifyContent:"space-between"},infoBox:{flexShrink:"0",display:"flex",flexDirection:"column",marginLeft:"70px","&:first-child":{marginLeft:"0"},"& > h6":{fontWeight:"bolder"}},infoBar:{fontSize:16,fontWeight:"bolder",display:"flex",alignItems:"center","& > span":{marginRight:"4px"}}});function Ga(e){e=Number(e);var t=Math.floor(e/3600),a=Math.floor(e%3600/60),n=Math.floor(e%3600%60),r=t>0?t+"h":"",i=a>0?a+"m":"",o=n>0?n+"s":"";return t>0&&a>0?"".concat(r,", ").concat(i):t>0&&0===a?"".concat(r):a>0&&n>0?"".concat(i,", ").concat(o):"".concat(a>0&&0===n?i:o)}var qa=function(e){var t=e.cpus,a=Ya();return t?Object(q.jsx)("div",{className:a.root,children:Object(q.jsx)(Pa.a,{className:a.table,children:Object(q.jsxs)(Ia.a,{"aria-label":"miner details",children:[Object(q.jsx)(Da.a,{children:Object(q.jsxs)(Ha.a,{children:[Object(q.jsx)(Ra.a,{className:a.TableHead,children:"CPU Model"}),Object(q.jsx)(Ra.a,{className:a.TableHead,children:"Current H/S"}),Object(q.jsx)(Ra.a,{className:a.TableHead,children:"Best H/S"}),Object(q.jsx)(Ra.a,{className:a.TableHead,children:"Cores"}),Object(q.jsx)(Ra.a,{className:a.TableHead,children:"Threads"})]})}),Object(q.jsx)(Ta.a,{children:t.map((function(e){var t=e.name,a=e.cores,n=e.threads,r=e.performance,i=void 0===r?0:r,o=e.performanceHighest,c=void 0===o?0:o;return Object(q.jsxs)(Ha.a,{children:[Object(q.jsx)(Ra.a,{component:"th",scope:"row",children:t}),Object(q.jsx)(Ra.a,{component:"th",scope:"row",children:i}),Object(q.jsx)(Ra.a,{component:"th",scope:"row",children:c}),Object(q.jsx)(Ra.a,{component:"th",children:a}),Object(q.jsx)(Ra.a,{component:"th",children:n})]},t)}))})]})})}):null},Ya=Object(O.a)({root:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"},table:{flex:1,border:"1px solid #e8eff7",borderRadius:"5px"},TableHead:{fontWeight:"bold",textTransform:"uppercase"}}),Ka=Object(O.a)({root:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column"}}),$a=function(e){var t=e.session,a=Xa(),n=t.uptime,r=t.activeGPUs,i=t.totalPower,o=t.performance,c=t.performanceUnit;return Object(q.jsx)("div",{className:a.root,children:Object(q.jsx)("div",{className:a.Wrapper,children:Object(q.jsxs)("div",{className:a.infoBarWrapper,children:[Object(q.jsxs)("div",{className:a.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[ee(o)," ",c]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Total Hashrate"})]}),Object(q.jsxs)("div",{className:a.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[i," W"]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Total Power"})]}),Object(q.jsxs)("div",{className:a.infoBox,children:[Object(q.jsx)(f.a,{variant:"h6",component:"h6",children:r}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"GPUs"})]}),Object(q.jsxs)("div",{className:a.infoBox,children:[Object(q.jsx)(f.a,{variant:"h6",component:"h6",children:Ja(n)}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Uptime"})]})]})})})},Xa=Object(O.a)({root:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"},Wrapper:{display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flexDirection:"column",overflow:"auto"},infoBarWrapper:{display:"flex",justifyContent:"space-between"},infoBox:{flexShrink:"0",display:"flex",flexDirection:"column",marginLeft:"70px","&:first-child":{marginLeft:"0"},"& > h6":{fontWeight:"bolder"}}});function Ja(e){e=Number(e);var t=Math.floor(e/3600),a=Math.floor(e%3600/60),n=Math.floor(e%3600%60),r=t>0?t+"h":"",i=a>0?a+"m":"",o=n>0?n+"s":"";return t>0&&a>0?"".concat(r,", ").concat(i):t>0&&0===a?"".concat(r):a>0&&n>0?"".concat(i,", ").concat(o):"".concat(a>0&&0===n?i:o)}var Za=function(e){var t=e.gpus,a=Qa();return t?Object(q.jsx)("div",{className:a.root,children:Object(q.jsx)(Pa.a,{className:a.table,children:Object(q.jsxs)(Ia.a,{"aria-label":"miner details",children:[Object(q.jsx)(Da.a,{children:Object(q.jsxs)(Ha.a,{children:[Object(q.jsx)(Ra.a,{className:a.TableHead,children:"Id"}),Object(q.jsx)(Ra.a,{className:a.TableHead,children:"GPU Model"}),Object(q.jsx)(Ra.a,{className:a.TableHead,children:"MH/S"}),Object(q.jsx)(Ra.a,{className:a.TableHead,children:"Power"}),Object(q.jsx)(Ra.a,{className:a.TableHead,children:"Temp"}),Object(q.jsx)(Ra.a,{className:a.TableHead,children:"Fan Speed"}),Object(q.jsx)(Ra.a,{className:a.TableHead,children:"Gpu Errors"})]})}),Object(q.jsx)(Ta.a,{children:t.map((function(e){var t=e.idGpu,a=e.name,n=e.performance,r=e.power,i=e.fanSpeed,o=e.temp,c=e.restartCounter;return Object(q.jsxs)(Ha.a,{children:[Object(q.jsx)(Ra.a,{component:"th",scope:"row",children:t}),Object(q.jsx)(Ra.a,{component:"th",scope:"row",children:a}),Object(q.jsx)(Ra.a,{component:"th",scope:"row",children:ee(n)}),Object(q.jsxs)(Ra.a,{component:"th",children:[r," W"]}),Object(q.jsxs)(Ra.a,{component:"th",children:[o," \xb0C"]}),Object(q.jsxs)(Ra.a,{component:"th",children:[i," %"]}),Object(q.jsx)(Ra.a,{component:"th",children:c})]},t)}))})]})})}):null},Qa=Object(O.a)({root:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"},table:{flex:1,border:"1px solid #e8eff7",borderRadius:"5px"},TableHead:{fontWeight:"bold",textTransform:"uppercase"}}),en=Object(O.a)({root:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column"}}),tn=function(e){var t=e.session,a=an(),n=t.uptime,r=t.activeGPUs,i=t.totalPower,o=t.performance,c=t.performanceUnit;return Object(q.jsx)("div",{className:a.root,children:Object(q.jsx)("div",{className:a.Wrapper,children:Object(q.jsxs)("div",{className:a.infoBarWrapper,children:[Object(q.jsxs)("div",{className:a.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[o," ",c]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Total Hashrate"})]}),Object(q.jsxs)("div",{className:a.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[ee(i)," W"]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Total Power"})]}),Object(q.jsxs)("div",{className:a.infoBox,children:[Object(q.jsx)(f.a,{variant:"h6",component:"h6",children:r}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"GPUs"})]}),Object(q.jsxs)("div",{className:a.infoBox,children:[Object(q.jsx)(f.a,{variant:"h6",component:"h6",children:nn(n)}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Uptime"})]})]})})})},an=Object(O.a)({root:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"},Wrapper:{display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flexDirection:"column",overflow:"auto"},infoBarWrapper:{display:"flex",justifyContent:"space-between"},infoBox:{flexShrink:"0",display:"flex",flexDirection:"column",marginLeft:"70px","&:first-child":{marginLeft:"0"},"& > h6":{fontWeight:"bolder"}},infoBar:{fontSize:16,fontWeight:"bolder",display:"flex",alignItems:"center","& > span":{marginRight:"4px"}}});function nn(e){e=Number(e);var t=Math.floor(e/3600),a=Math.floor(e%3600/60),n=Math.floor(e%3600%60),r=t>0?t+"h":"",i=a>0?a+"m":"",o=n>0?n+"s":"";return t>0&&a>0?"".concat(r,", ").concat(i):t>0&&0===a?"".concat(r):a>0&&n>0?"".concat(i,", ").concat(o):"".concat(a>0&&0===n?i:o)}var rn,on,cn,sn,ln=function(e){var t=e.gpus,a=dn();return t?Object(q.jsx)("div",{className:a.root,children:Object(q.jsx)(Pa.a,{className:a.table,children:Object(q.jsxs)(Ia.a,{"aria-label":"miner details",children:[Object(q.jsx)(Da.a,{children:Object(q.jsxs)(Ha.a,{children:[Object(q.jsx)(Ra.a,{className:a.TableHead,children:"GPU Id"}),Object(q.jsx)(Ra.a,{className:a.TableHead,children:"Shares Accepted"}),Object(q.jsx)(Ra.a,{className:a.TableHead,children:"Shares Rejected"}),Object(q.jsx)(Ra.a,{className:a.TableHead,children:"MH/S"}),Object(q.jsx)(Ra.a,{className:a.TableHead,children:"Power"}),Object(q.jsx)(Ra.a,{className:a.TableHead,children:"Temp"}),Object(q.jsx)(Ra.a,{className:a.TableHead,children:"Fan Speed"}),Object(q.jsx)(Ra.a,{className:a.TableHead,children:"Gpu Errors"})]})}),Object(q.jsx)(Ta.a,{children:t.map((function(e){var t=e.idGpu,a=e.accepted,n=e.rejected,r=e.performance,i=e.power,o=e.fanSpeed,c=e.temp,s=e.restartCounter;return Object(q.jsxs)(Ha.a,{children:[Object(q.jsx)(Ra.a,{component:"th",scope:"row",children:t}),Object(q.jsx)(Ra.a,{component:"th",scope:"row",children:a}),Object(q.jsx)(Ra.a,{component:"th",scope:"row",children:n}),Object(q.jsx)(Ra.a,{component:"th",scope:"row",children:ee(r)}),Object(q.jsxs)(Ra.a,{component:"th",children:[ee(i)," W"]}),Object(q.jsxs)(Ra.a,{component:"th",children:[c," \xb0C"]}),Object(q.jsxs)(Ra.a,{component:"th",children:[o," %"]}),Object(q.jsx)(Ra.a,{component:"th",children:s})]},t)}))})]})})}):null},dn=Object(O.a)({root:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"},table:{flex:1,border:"1px solid #e8eff7",borderRadius:"5px"},TableHead:{fontWeight:"bold",textTransform:"uppercase"}}),un=Object(O.a)({root:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column"}}),jn={lolminer:function(e){var t=e.worker,a=e.meta,n=e.refreshId,r=Ua(),i=ve("workers/".concat(t.id,"/_stats?refreshId=").concat(n)),o=i.data,c=i.loading,s=i.error;if(null===c||c)return Object(q.jsx)(Ma,{});if(s)return Object(q.jsxs)(za,{children:[Object(q.jsx)("b",{children:t.minerName})," stats not available yet!"]});var l=o.results,d=l.gpus,u=l.session;return Object(q.jsxs)("div",{className:r.root,children:[Object(q.jsx)(ka,{worker:t,meta:a,session:u}),Object(q.jsx)(Ea,{gpus:d})]})},xmrig:function(e){var t=e.worker,a=e.meta,n=e.refreshId,r=Ka(),i=ve("workers/".concat(t.id,"/_stats?refreshId=").concat(n)),o=i.data,c=i.loading,s=i.error;if(null===c||c)return Object(q.jsx)(Ma,{});if(s)return Object(q.jsxs)(za,{children:[Object(q.jsx)("b",{children:t.minerName})," stats not available yet!"]});var l=o.results,d=l.cpus,u=l.session;return Object(q.jsxs)("div",{className:r.root,children:[Object(q.jsx)(Fa,{worker:t,meta:a,session:u}),Object(q.jsx)(qa,{cpus:d})]})},trex:function(e){var t=e.worker,a=e.meta,n=e.refreshId,r=en(),i=ve("workers/".concat(t.id,"/_stats?refreshId=").concat(n)),o=i.data,c=i.loading,s=i.error;if(null===c||c)return Object(q.jsx)(Ma,{});if(s)return Object(q.jsxs)(za,{children:[Object(q.jsx)("b",{children:t.minerName})," stats not available yet!"]});var l=o.results,d=l.gpus,u=l.session;return Object(q.jsxs)("div",{className:r.root,children:[Object(q.jsx)($a,{worker:t,meta:a,session:u}),Object(q.jsx)(Za,{gpus:d})]})},teamredminer:function(e){var t=e.worker,a=e.meta,n=e.refreshId,r=un(),i=ve("workers/".concat(t.id,"/_stats?refreshId=").concat(n)),o=i.data,c=i.loading,s=i.error;if(null===c||c)return Object(q.jsx)(Ma,{});if(s)return Object(q.jsxs)(za,{children:[Object(q.jsx)("b",{children:t.minerName})," stats not available yet!"]});var l=o.results,d=l.gpus,u=l.session;return Object(q.jsxs)("div",{className:r.root,children:[Object(q.jsx)(tn,{worker:t,meta:a,session:u}),Object(q.jsx)(ln,{gpus:d})]})}},pn=1e6,xn=function(e){var t=e.hashrate,a=hn(),n=t||{},r=n.currentEffectiveHashrate,i=void 0===r?0:r,o=n.averageEffectiveHashrate,c=void 0===o?0:o,s=n.validShares,l=void 0===s?0:s,d=n.staleShares,u=void 0===d?0:d,j=n.invalidShares,p=void 0===j?0:j,x=ee(i/pn),h=ee(c/pn),b=l+p,m=0===b?0:ee(100*u/b),v=0===b?0:ee(100*p/b),O=0===b?0:100-m-v;return Object(q.jsxs)("div",{className:a.root,children:[Object(q.jsx)("div",{className:a.Wrapper,children:Object(q.jsxs)("div",{className:a.infoBarWrapper,children:[Object(q.jsxs)("div",{className:a.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[x," mh/s"]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Current Hashrate"})]}),Object(q.jsxs)("div",{className:a.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[h," mh/s"]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Average Hashrate"})]})]})}),Object(q.jsx)("div",{className:a.WrapperShares,children:Object(q.jsxs)("div",{className:a.infoBarWrapper,children:[Object(q.jsxs)("div",{className:a.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[l," ",Object(q.jsxs)("span",{className:a.infoSecondary,children:["(",O,"%)"]})]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Valid Shares"})]}),Object(q.jsxs)("div",{className:a.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[u," ",Object(q.jsxs)("span",{className:a.infoSecondary,children:["(",m,"%)"]})]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Stale Shares"})]}),Object(q.jsxs)("div",{className:a.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[p," ",Object(q.jsxs)("span",{className:a.infoSecondary,children:["(",v,"%)"]})]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Invalid Shares"})]})]})})]})},hn=Object(O.a)({root:Object(g.a)({position:"relative",width:"100%",display:"flex",padding:"8px 16px",flexShrink:"0"},"@media (max-width:980px)",{width:"initial",overflow:"auto"}),Wrapper:(rn={display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flex:.8},Object(g.a)(rn,"@media (max-width:980px)",{flex:"initial",width:"80%",flexShrink:0}),Object(g.a)(rn,"@media (max-width:500px)",{flex:"initial",width:"initial",flexShrink:0}),rn),WrapperShares:(on={display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flex:1,marginLeft:"16px"},Object(g.a)(on,"@media (max-width:980px)",{flex:"initial",width:"initial",flexShrink:0}),Object(g.a)(on,"@media (max-width:500px)",{flex:"initial",width:"initial",flexShrink:0}),on),infoBarWrapper:{flex:1,display:"flex",justifyContent:"space-between"},infoBox:{display:"flex",flexShrink:"0",flexDirection:"column",marginLeft:"71px","& > h6":{fontWeight:"bolder",fontSize:"16px"},"&:first-child":{marginLeft:"0"}},infoBar:{fontSize:16,fontWeight:"bolder",display:"flex",alignItems:"center","& > span":{marginRight:"4px"}},infoSecondary:{fontSize:"16px",color:"rgba(0, 0, 0, 0.54)"}}),bn=(a(109),a(70)),mn={responsive:!0,maintainAspectRatio:!1,scales:{x:{type:"time",time:{displayFormats:{hour:"HH:mm",minute:"HH:mm",second:"HH:mm",millisecond:"HH:mm"},tooltipFormat:"ll HH:mm:ss"},scaleLabel:{display:!0,labelString:"Date"}}},plugins:{legend:{position:"bottom"}}},fn=function(e){var t=e.dataChart,a=[];if((null===t||void 0===t?void 0:t.length)<=0||void 0===(null===t||void 0===t?void 0:t[0])||void 0===t[0].averageEffectiveHashrate||void 0===t[0].effectiveHashrate||void 0===t[0].invalidShares||void 0===t[0].reportedHashrate||void 0===t[0].staleShares||void 0===t[0].validShares)return Object(q.jsx)("div",{style:{padding:"8px 16px",width:"100%",height:"100%"},children:Object(q.jsxs)("div",{style:{width:"100%",padding:"16px",border:"1px solid #e8eff7",borderRadius:"5px",justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column"},children:[Object(q.jsx)(f.a,{variant:"h4",component:"h4",children:"Chart data not available yet!"}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",children:"Try again after some minutes!"})]})});var n=vn({dataChart:t,key:"effectiveHashrate"},{label:"Effective Hashrate",fill:!1,lineTension:.4,backgroundColor:"#3f51b5",borderColor:"rgba(63, 81, 181, 0.5)"});n&&a.push(n);var r=vn({dataChart:t,key:"averageEffectiveHashrate"},{label:"Average Hashrate",fill:!1,lineTension:.4,backgroundColor:"#15cd72",borderColor:"rgba(21,205,114,0.5)"});r&&a.push(r);var i=vn({dataChart:t,key:"reportedHashrate"},{label:"Reported Hashrate",fill:!1,lineTension:.4,backgroundColor:"#eab02e",borderColor:"rgba(237,180,49,0.5)"});i&&a.push(i);var o={labels:t.map((function(e){return 1e3*e.timestamp})).reverse(),datasets:a};return Object(q.jsx)("div",{style:{padding:"8px 16px"},children:Object(q.jsx)("div",{style:{height:"300px",padding:"24px",border:"1px solid #e8eff7",borderRadius:"5px"},children:Object(q.jsx)(bn.a,{data:o,options:mn})})})};function vn(e,t){var a=e.dataChart,n=void 0===a?[]:a,r=e.key,i=n.filter((function(e){return void 0!==e[r]})).map((function(e){return e[r]/1e6})).reverse();return i.length>0?Object(x.a)({data:i},t):null}var On,gn,wn,Nn,yn=function(e){var t=e.worker,a=e.balance,n=Cn(),r=a||{},i=r.balance,o=void 0===i?0:i,c=r.balanceCountervalue,s=void 0===c?0:c,l=t.coinName,d=t.walletName,u=t.workerName,j=t.poolName,p=t.minerName,x=t.algo,h=ee(o/1e18,6);return Object(q.jsxs)("div",{className:n.root,children:[Object(q.jsx)("div",{className:n.Wrapper,children:Object(q.jsxs)("div",{className:n.infoBarWrapper,children:[Object(q.jsxs)("div",{className:n.infoBox,children:[Object(q.jsx)(f.a,{variant:"h6",component:"h6",title:u,children:Object(q.jsx)("span",{style:{maxWidth:"170px"},className:"text-ellipsis",children:u})}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Worker"})]}),Object(q.jsxs)("div",{className:n.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[Object(q.jsx)("span",{className:n.text,children:p})," -"," ",x.toLowerCase()]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Miner Software"})]})]})}),Object(q.jsx)("div",{className:n.WrapperPool,children:Object(q.jsxs)("div",{className:n.infoBarWrapper,children:[Object(q.jsxs)("div",{className:n.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[h," ",l," "]}),Object(q.jsxs)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:["Balance"," ",Object(q.jsxs)("span",{className:n.ValueDollar,children:["\u2248 $",s]})]})]}),Object(q.jsxs)("div",{className:n.infoBox,children:[Object(q.jsx)(f.a,{variant:"h6",component:"h6",className:n.text,children:j}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Pool"})]}),Object(q.jsxs)("div",{className:n.infoBox,children:[Object(q.jsx)(f.a,{variant:"h6",component:"h6",className:n.text,children:Object(q.jsx)("span",{style:{maxWidth:"130px"},className:"text-ellipsis",children:d})}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Wallet"})]})]})})]})},Cn=Object(O.a)({root:Object(g.a)({position:"relative",width:"100%",display:"flex",padding:"8px 16px",flexShrink:"0"},"@media (max-width:980px)",{width:"initial",overflow:"auto"}),Wrapper:(cn={display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flex:.8},Object(g.a)(cn,"@media (max-width:980px)",{flex:"initial",width:"80%",flexShrink:0}),Object(g.a)(cn,"@media (max-width:500px)",{flex:"initial",width:"initial",flexShrink:0}),Object(g.a)(cn,"@media (max-width:370px)",{width:"100%"}),cn),ValueDollar:{fontSize:"14px"},WrapperPool:(sn={display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",marginLeft:"16px",flex:1},Object(g.a)(sn,"@media (max-width:980px)",{flex:"initial",width:"initial",flexShrink:0}),Object(g.a)(sn,"@media (max-width:500px)",{flex:"initial",width:"initial",flexShrink:0}),sn),infoBarWrapper:{flex:1,display:"flex",justifyContent:"space-between"},infoBox:{display:"flex",flexDirection:"column",marginLeft:"71px",flexShrink:0,"& > h6":{fontWeight:"bolder",fontSize:"16px"},"&:first-child":{marginLeft:"0"}},text:{textTransform:"capitalize"}}),Sn=Object(O.a)({root:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column"}}),kn=function(e){var t=e.worker,a=e.hashrate,n=e.balance,r=t.coinName,i=Wn(),o=a||{},c=o.currentEffectiveHashrate,s=void 0===c?0:c,l=o.reportedHashrate,d=void 0===l?0:l,u=o.performanceUnit,j=void 0===u?"-/-":u,p=n||{},x=p.total24h,h=void 0===x?0:x,b=p.referralBalance,m=void 0===b?0:b;return Object(q.jsxs)("div",{className:i.root,children:[Object(q.jsx)("div",{className:i.Wrapper,children:Object(q.jsxs)("div",{className:i.infoBarWrapper,children:[Object(q.jsxs)("div",{className:i.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[s," ",j]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Current Hashrate"})]}),Object(q.jsxs)("div",{className:i.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[d," ",j]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Reported Hashrate"})]})]})}),Object(q.jsx)("div",{className:i.WrapperShares,children:Object(q.jsxs)("div",{className:i.infoBarWrapper,children:[Object(q.jsxs)("div",{className:i.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[h," ",r]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Past 24h rewards"})]}),Object(q.jsxs)("div",{className:i.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[m," ",r]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Referral balance"})]})]})})]})},Wn=Object(O.a)({root:Object(g.a)({position:"relative",width:"100%",display:"flex",padding:"8px 16px",flexShrink:"0"},"@media (max-width:980px)",{width:"initial",overflow:"auto"}),Wrapper:(On={display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flex:.8},Object(g.a)(On,"@media (max-width:980px)",{flex:"initial",width:"80%",flexShrink:0}),Object(g.a)(On,"@media (max-width:500px)",{flex:"initial",width:"initial",flexShrink:0}),On),WrapperShares:(gn={display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flex:1,marginLeft:"16px"},Object(g.a)(gn,"@media (max-width:980px)",{flex:"initial",width:"initial",flexShrink:0}),Object(g.a)(gn,"@media (max-width:500px)",{flex:"initial",width:"initial",flexShrink:0}),gn),infoBarWrapper:{flex:1,display:"flex",justifyContent:"space-between"},infoBox:{display:"flex",flexShrink:"0",flexDirection:"column",marginLeft:"71px","& > h6":{fontWeight:"bolder",fontSize:"16px"},"&:first-child":{marginLeft:"0"}},infoBar:{fontSize:"16px",fontWeight:"bolder",display:"flex",alignItems:"center","& > span":{marginRight:"4px"}},infoSecondary:{fontSize:"16px",color:"rgba(0, 0, 0, 0.54)"}}),Bn={responsive:!0,maintainAspectRatio:!1,scales:{x:{type:"time",time:{displayFormats:{hour:"HH:mm",minute:"HH:mm",second:"HH:mm",millisecond:"HH:mm"},tooltipFormat:"ll HH:mm:ss"},scaleLabel:{display:!0,labelString:"Date"}}},plugins:{legend:{position:"bottom"}}},In=function(e){var t,a,n=[],r=e.dataChart||{},i=r.reported,o=void 0===i?{}:i,c=r.calculated,s=void 0===c?{}:c,l=o.timestamps;if((null===l||void 0===l?void 0:l.length)<=0||(null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.length)<=0||(null===o||void 0===o||null===(a=o.data)||void 0===a?void 0:a.length)<=0)return Object(q.jsx)("div",{style:{padding:"8px 16px",width:"100%",height:"100%"},children:Object(q.jsxs)("div",{style:{width:"100%",padding:"16px",border:"1px solid #e8eff7",borderRadius:"5px",justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column"},children:[Object(q.jsx)(f.a,{variant:"h4",component:"h4",children:"Chart data not available yet!"}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",children:"Try again after some minutes!"})]})});var d=function(e){var t=(new Date).getUTCDate();return e.filter((function(e){return new Date(e).getUTCDate()>=t}))}(l),u=s.data.length-d.length,j={data:s.data.slice(u),label:"Effective Hashrate",fill:!1,lineTension:.4,backgroundColor:"#3f51b5",borderColor:"rgba(63, 81, 181, 0.5)"};j&&n.push(j),u=o.data.length-d.length;var p={data:o.data.slice(u),label:"Reported Hashrate",fill:!1,lineTension:.4,backgroundColor:"#15cd72",borderColor:"rgba(21,205,114,0.5)"};p&&n.push(p);var x={labels:d,datasets:n};return Object(q.jsx)("div",{style:{padding:"8px 16px"},children:Object(q.jsx)("div",{style:{height:"300px",padding:"24px",border:"1px solid #e8eff7",borderRadius:"5px"},children:Object(q.jsx)(bn.a,{data:x,options:Bn})})})};var Tn,Rn,Pn,Dn,Hn=function(e){var t=e.worker,a=e.balance,n=En(),r=(a||{}).balance,i=void 0===r?0:r,o=t.coinName,c=t.walletName,s=t.workerName,l=t.poolName,d=t.minerName,u=t.algo,j=ee(i,6);return Object(q.jsxs)("div",{className:n.root,children:[Object(q.jsx)("div",{className:n.Wrapper,children:Object(q.jsxs)("div",{className:n.infoBarWrapper,children:[Object(q.jsxs)("div",{className:n.infoBox,children:[Object(q.jsx)(f.a,{variant:"h6",component:"h6",title:s,children:Object(q.jsx)("span",{style:{maxWidth:"200px"},className:"text-ellipsis",children:s})}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Worker"})]}),Object(q.jsxs)("div",{className:n.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[Object(q.jsx)("span",{className:n.text,children:d})," -"," ",u.toLowerCase()]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Miner Software"})]})]})}),Object(q.jsx)("div",{className:n.WrapperPool,children:Object(q.jsxs)("div",{className:n.infoBarWrapper,children:[Object(q.jsxs)("div",{className:n.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[j," ",o]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Balance"})]}),Object(q.jsxs)("div",{className:n.infoBox,children:[Object(q.jsx)(f.a,{variant:"h6",component:"h6",className:n.text,children:l}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Pool"})]}),Object(q.jsxs)("div",{className:n.infoBox,children:[Object(q.jsx)(f.a,{variant:"h6",component:"h6",className:n.text,children:Object(q.jsx)("span",{style:{maxWidth:"130px"},className:"text-ellipsis",children:c})}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Wallet"})]})]})})]})},En=Object(O.a)({root:Object(g.a)({position:"relative",width:"100%",display:"flex",padding:"8px 16px",flexShrink:"0"},"@media (max-width:980px)",{width:"initial",overflow:"auto"}),Wrapper:(wn={display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flex:.8},Object(g.a)(wn,"@media (max-width:980px)",{flex:"initial",width:"80%",flexShrink:0}),Object(g.a)(wn,"@media (max-width:500px)",{flex:"initial",width:"initial",flexShrink:0}),Object(g.a)(wn,"@media (max-width:370px)",{width:"100%"}),wn),ValueDollar:{fontSize:"14px"},WrapperPool:(Nn={display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",marginLeft:"16px",flex:1},Object(g.a)(Nn,"@media (max-width:980px)",{flex:"initial",width:"initial",flexShrink:0}),Object(g.a)(Nn,"@media (max-width:500px)",{flex:"initial",width:"initial",flexShrink:0}),Nn),infoBarWrapper:{flex:1,display:"flex",justifyContent:"space-between"},infoBox:{display:"flex",flexDirection:"column",marginLeft:"71px",flexShrink:0,"& > h6":{fontWeight:"bolder",fontSize:"16px"},"&:first-child":{marginLeft:"0"}},text:{textTransform:"capitalize"}}),Ln=Object(O.a)({root:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column"}}),Mn=1e6,An=function(e){var t=e.worker,a=e.hashrate;console.log(t);var n=zn(),r=a||{},i=r.current_hashrate,o=void 0===i?0:i,c=r.average_hashrate,s=void 0===c?0:c,l=r.validShares,d=void 0===l?0:l,u=r.staleShares,j=void 0===u?0:u,p=r.invalidShares,x=void 0===p?0:p,h=ee(o/Mn),b=ee(s/Mn),m=d+x,v=0===m?0:ee(100*j/m),O=0===m?0:ee(100*x/m),g=0===m?0:100-v-O;return Object(q.jsxs)("div",{className:n.root,children:[Object(q.jsx)("div",{className:n.Wrapper,children:Object(q.jsxs)("div",{className:n.infoBarWrapper,children:[Object(q.jsxs)("div",{className:n.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[h," mh/s"]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Current Hashrate"})]}),Object(q.jsxs)("div",{className:n.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[b," mh/s"]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Average Hashrate"})]})]})}),Object(q.jsx)("div",{className:n.WrapperShares,children:Object(q.jsxs)("div",{className:n.infoBarWrapper,children:[Object(q.jsxs)("div",{className:n.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[d," ",Object(q.jsxs)("span",{className:n.infoSecondary,children:["(",g,"%)"]})]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Valid Shares"})]}),Object(q.jsxs)("div",{className:n.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[j," ",Object(q.jsxs)("span",{className:n.infoSecondary,children:["(",v,"%)"]})]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Stale Shares"})]}),Object(q.jsxs)("div",{className:n.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[x," ",Object(q.jsxs)("span",{className:n.infoSecondary,children:["(",O,"%)"]})]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Invalid Shares"})]})]})})]})},zn=Object(O.a)({root:Object(g.a)({position:"relative",width:"100%",display:"flex",padding:"8px 16px",flexShrink:"0"},"@media (max-width:980px)",{width:"initial",overflow:"auto"}),Wrapper:(Tn={display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flex:.8},Object(g.a)(Tn,"@media (max-width:980px)",{flex:"initial",width:"80%",flexShrink:0}),Object(g.a)(Tn,"@media (max-width:500px)",{flex:"initial",width:"initial",flexShrink:0}),Tn),WrapperShares:(Rn={display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flex:1,marginLeft:"16px"},Object(g.a)(Rn,"@media (max-width:980px)",{flex:"initial",width:"initial",flexShrink:0}),Object(g.a)(Rn,"@media (max-width:500px)",{flex:"initial",width:"initial",flexShrink:0}),Rn),infoBarWrapper:{flex:1,display:"flex",justifyContent:"space-between"},infoBox:{display:"flex",flexShrink:"0",flexDirection:"column",marginLeft:"71px","& > h6":{fontWeight:"bolder",fontSize:"16px"},"&:first-child":{marginLeft:"0"}},infoBar:{fontSize:16,fontWeight:"bolder",display:"flex",alignItems:"center","& > span":{marginRight:"4px"}},infoSecondary:{fontSize:"16px",color:"rgba(0, 0, 0, 0.54)"}}),_n={responsive:!0,maintainAspectRatio:!1,scales:{x:{type:"time",time:{displayFormats:{hour:"HH:mm",minute:"HH:mm",second:"HH:mm",millisecond:"HH:mm"},tooltipFormat:"ll HH:mm:ss"},scaleLabel:{display:!0,labelString:"Date"}}},plugins:{legend:{position:"bottom"}}},Un=function(e){var t=e.dataChart,a=[];if((null===t||void 0===t?void 0:t.length)<=0||void 0===(null===t||void 0===t?void 0:t[0])||void 0===t[0].long_average_hashrate||void 0===t[0].short_average_hashrate||void 0===t[0].invalid_shares_count||void 0===t[0].reported_hashrate||void 0===t[0].stale_shares_count||void 0===t[0].accepted_shares_count)return Object(q.jsx)("div",{style:{padding:"8px 16px",width:"100%",height:"100%"},children:Object(q.jsxs)("div",{style:{width:"100%",padding:"16px",border:"1px solid #e8eff7",borderRadius:"5px",justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column"},children:[Object(q.jsx)(f.a,{variant:"h4",component:"h4",children:"Chart data not available yet!"}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",children:"Try again after some minutes!"})]})});var n=Fn({dataChart:t,key:"short_average_hashrate"},{label:"Current Hashrate",fill:!1,lineTension:.4,backgroundColor:"#3f51b5",borderColor:"rgba(63, 81, 181, 0.5)"});n&&a.push(n);var r=Fn({dataChart:t,key:"long_average_hashrate"},{label:"Average Hashrate",fill:!1,lineTension:.4,backgroundColor:"#15cd72",borderColor:"rgba(21,205,114,0.5)"});r&&a.push(r);var i=Fn({dataChart:t,key:"reported_hashrate"},{label:"Reported Hashrate",fill:!1,lineTension:.4,backgroundColor:"#eab02e",borderColor:"rgba(237,180,49,0.5)"});i&&a.push(i);var o={labels:t.map((function(e){var t=e.time;return new Date(t).getTime()})),datasets:a};return Object(q.jsx)("div",{style:{padding:"8px 16px"},children:Object(q.jsx)("div",{style:{height:"300px",padding:"24px",border:"1px solid #e8eff7",borderRadius:"5px"},children:Object(q.jsx)(bn.a,{data:o,options:_n})})})};function Fn(e,t){var a=e.dataChart,n=void 0===a?[]:a,r=e.key,i=n.filter((function(e){return void 0!==e[r]})).map((function(e){return e[r]/1e6}));return console.log(n,i),i.length>0?Object(x.a)({data:i},t):null}var Vn,Gn,qn=function(e){var t,a,n=e.worker,r=e.balance,o=void 0===r?{}:r,c=e.rates,s=void 0===c?{}:c,l=Yn(),d=n.coinName,u=n.walletName,j=n.workerName,p=n.minerName,x=n.algo,h=d.split("+"),b=Object(i.a)(h,2),m=b[0],v=b[1],O=(null===o||void 0===o?void 0:o[m.toLowerCase()])||0,g=ee(O,8),w=(null===o||void 0===o?void 0:o[v.toLowerCase()])||0,N=ee(w,8),y=(null===s||void 0===s||null===(t=s[m])||void 0===t?void 0:t.USD)||0,C=ee(y*g,2),S=(null===s||void 0===s||null===(a=s[v])||void 0===a?void 0:a.USD)||0,k=ee(S*N,2);return Object(q.jsxs)("div",{className:l.root,children:[Object(q.jsx)("div",{className:l.Wrapper,children:Object(q.jsxs)("div",{className:l.infoBarWrapper,children:[Object(q.jsxs)("div",{className:l.infoBox,children:[Object(q.jsx)(f.a,{variant:"h6",component:"h6",title:j,children:Object(q.jsx)("span",{style:{maxWidth:"170px"},className:"text-ellipsis",children:j})}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Worker"})]}),Object(q.jsxs)("div",{className:l.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[Object(q.jsx)("span",{className:l.text,children:p})," -"," ",x.toLowerCase()]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Miner Software"})]})]})}),Object(q.jsx)("div",{className:l.WrapperPool,children:Object(q.jsxs)("div",{className:l.infoBarWrapper,children:[Object(q.jsxs)("div",{className:l.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[g," ",m," "]}),Object(q.jsxs)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:["Balance"," ",Object(q.jsxs)("span",{className:l.ValueDollar,children:["\u2248 $",C]})]})]}),Object(q.jsxs)("div",{className:l.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[N," ",v," "]}),Object(q.jsxs)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:["Balance"," ",Object(q.jsxs)("span",{className:l.ValueDollar,children:["\u2248 $",k]})]})]}),Object(q.jsxs)("div",{className:l.infoBox,children:[Object(q.jsx)(f.a,{variant:"h6",component:"h6",className:l.text,children:Object(q.jsx)("span",{style:{maxWidth:"130px"},className:"text-ellipsis",children:u})}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Wallet"})]})]})})]})},Yn=Object(O.a)({root:Object(g.a)({position:"relative",width:"100%",display:"flex",padding:"8px 16px",flexShrink:"0"},"@media (max-width:980px)",{width:"initial",overflow:"auto"}),Wrapper:(Pn={display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flex:.8},Object(g.a)(Pn,"@media (max-width:980px)",{flex:"initial",width:"80%",flexShrink:0}),Object(g.a)(Pn,"@media (max-width:500px)",{flex:"initial",width:"initial",flexShrink:0}),Object(g.a)(Pn,"@media (max-width:370px)",{width:"100%"}),Pn),ValueDollar:{fontSize:"14px"},WrapperPool:(Dn={display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",marginLeft:"16px",flex:1},Object(g.a)(Dn,"@media (max-width:980px)",{flex:"initial",width:"initial",flexShrink:0}),Object(g.a)(Dn,"@media (max-width:500px)",{flex:"initial",width:"initial",flexShrink:0}),Dn),infoBarWrapper:{flex:1,display:"flex",justifyContent:"space-between"},infoBox:{display:"flex",flexDirection:"column",marginLeft:"71px",flexShrink:0,"& > h6":{fontWeight:"bolder",fontSize:"16px"},"&:first-child":{marginLeft:"0"}},text:{textTransform:"capitalize"}}),Kn=Object(O.a)({root:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column"}}),$n=1e6,Xn=function(e){var t=e.hashrate,a=Jn(),n=t||{},r=n.currentHashrate,i=void 0===r?0:r,o=n.averageHashrate,c=void 0===o?0:o,s=n.validShares,l=void 0===s?0:s,d=n.staleShares,u=void 0===d?0:d,j=n.invalidShares,p=void 0===j?0:j,x=ee(i/$n),h=ee(c/$n),b=l+p,m=0===b?0:ee(100*u/b),v=0===b?0:ee(100*p/b),O=0===b?0:100-m-v;return Object(q.jsxs)("div",{className:a.root,children:[Object(q.jsx)("div",{className:a.Wrapper,children:Object(q.jsxs)("div",{className:a.infoBarWrapper,children:[Object(q.jsxs)("div",{className:a.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[x," mh/s"]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Current Hashrate"})]}),Object(q.jsxs)("div",{className:a.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[h," mh/s"]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Average Hashrate"})]})]})}),Object(q.jsx)("div",{className:a.WrapperShares,children:Object(q.jsxs)("div",{className:a.infoBarWrapper,children:[Object(q.jsxs)("div",{className:a.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[l," ",Object(q.jsxs)("span",{className:a.infoSecondary,children:["(",O,"%)"]})]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Valid Shares"})]}),Object(q.jsxs)("div",{className:a.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[u," ",Object(q.jsxs)("span",{className:a.infoSecondary,children:["(",m,"%)"]})]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Stale Shares"})]}),Object(q.jsxs)("div",{className:a.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[p," ",Object(q.jsxs)("span",{className:a.infoSecondary,children:["(",v,"%)"]})]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Invalid Shares"})]})]})})]})},Jn=Object(O.a)({root:Object(g.a)({position:"relative",width:"100%",display:"flex",padding:"8px 16px",flexShrink:"0"},"@media (max-width:980px)",{width:"initial",overflow:"auto"}),Wrapper:(Vn={display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flex:.8},Object(g.a)(Vn,"@media (max-width:980px)",{flex:"initial",width:"80%",flexShrink:0}),Object(g.a)(Vn,"@media (max-width:500px)",{flex:"initial",width:"initial",flexShrink:0}),Vn),WrapperShares:(Gn={display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flex:1,marginLeft:"16px"},Object(g.a)(Gn,"@media (max-width:980px)",{flex:"initial",width:"initial",flexShrink:0}),Object(g.a)(Gn,"@media (max-width:500px)",{flex:"initial",width:"initial",flexShrink:0}),Gn),infoBarWrapper:{flex:1,display:"flex",justifyContent:"space-between"},infoBox:{display:"flex",flexShrink:"0",flexDirection:"column",marginLeft:"71px","& > h6":{fontWeight:"bolder",fontSize:"16px"},"&:first-child":{marginLeft:"0"}},infoBar:{fontSize:16,fontWeight:"bolder",display:"flex",alignItems:"center","& > span":{marginRight:"4px"}},infoSecondary:{fontSize:"16px",color:"rgba(0, 0, 0, 0.54)"}}),Zn=function(e){var t=e.dataChart,a=[];if((null===t||void 0===t?void 0:t.length)<=0||void 0===(null===t||void 0===t?void 0:t[0])||void 0===t[0].averageHashrate||void 0===t[0].currentHashrate||void 0===t[0].invalidShares||void 0===t[0].reportedHashrate||void 0===t[0].staleShares||void 0===t[0].validShares)return Object(q.jsx)("div",{style:{padding:"8px 16px",width:"100%",height:"100%"},children:Object(q.jsxs)("div",{style:{width:"100%",padding:"16px",border:"1px solid #e8eff7",borderRadius:"5px",justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column"},children:[Object(q.jsx)(f.a,{variant:"h4",component:"h4",children:"Chart data not available yet!"}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",children:"Try again after some minutes!"})]})});var n=Qn({dataChart:t,key:"currentHashrate"},{label:"Crrent Hashrate",fill:!1,lineTension:.4,backgroundColor:"#3f51b5",borderColor:"rgba(63, 81, 181, 0.5)"});n&&a.push(n);var r=Qn({dataChart:t,key:"averageHashrate"},{label:"Average Hashrate",fill:!1,lineTension:.4,backgroundColor:"#15cd72",borderColor:"rgba(21,205,114,0.5)"});r&&a.push(r);var i=Qn({dataChart:t,key:"reportedHashrate"},{label:"Reported Hashrate",fill:!1,lineTension:.4,backgroundColor:"#eab02e",borderColor:"rgba(237,180,49,0.5)"});i&&a.push(i);var o={labels:t.map((function(e){return 1e3*e.time})),datasets:a};return Object(q.jsx)("div",{style:{padding:"8px 16px"},children:Object(q.jsx)("div",{style:{height:"300px",padding:"24px",border:"1px solid #e8eff7",borderRadius:"5px"},children:Object(q.jsx)(bn.a,{data:o,options:ar})})})};function Qn(e,t){var a=e.dataChart,n=void 0===a?[]:a,r=e.key,i=n.filter((function(e){return void 0!==e[r]})).map((function(e){return e[r]/1e6}));return i.length>0?Object(x.a)({data:i},t):null}var er,tr,ar={responsive:!0,maintainAspectRatio:!1,scales:{x:{type:"time",time:{displayFormats:{hour:"HH:mm",minute:"HH:mm",second:"HH:mm",millisecond:"HH:mm"},tooltipFormat:"ll HH:mm:ss"},scaleLabel:{display:!0,labelString:"Date"}}},plugins:{legend:{position:"bottom"}}},nr=function(e){var t=e.worker,a=e.balance,n=e.baseUnit,r=void 0===n?1:n,i=rr(),o=(a||{}).unpaid,c=void 0===o?0:o,s=t.coinName,l=t.walletName,d=t.workerName,u=t.poolName,j=t.minerName,p=t.algo,x=ee(c/r,6);return Object(q.jsxs)("div",{className:i.root,children:[Object(q.jsx)("div",{className:i.Wrapper,children:Object(q.jsxs)("div",{className:i.infoBarWrapper,children:[Object(q.jsxs)("div",{className:i.infoBox,children:[Object(q.jsx)(f.a,{variant:"h6",component:"h6",title:d,children:Object(q.jsx)("span",{style:{maxWidth:"170px"},className:"text-ellipsis",children:d})}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Worker"})]}),Object(q.jsxs)("div",{className:i.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[Object(q.jsx)("span",{className:i.text,children:j})," -"," ",p.toLowerCase()]}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Miner Software"})]})]})}),Object(q.jsx)("div",{className:i.WrapperPool,children:Object(q.jsxs)("div",{className:i.infoBarWrapper,children:[Object(q.jsxs)("div",{className:i.infoBox,children:[Object(q.jsxs)(f.a,{variant:"h6",component:"h6",children:[x," ",s," "]}),Object(q.jsxs)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:["Balance"," "]})]}),Object(q.jsxs)("div",{className:i.infoBox,children:[Object(q.jsx)(f.a,{variant:"h6",component:"h6",className:i.text,children:u}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Pool"})]}),Object(q.jsxs)("div",{className:i.infoBox,children:[Object(q.jsx)(f.a,{variant:"h6",component:"h6",className:i.text,children:Object(q.jsx)("span",{style:{maxWidth:"130px"},className:"text-ellipsis",children:l})}),Object(q.jsx)(f.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Wallet"})]})]})})]})},rr=Object(O.a)({root:Object(g.a)({position:"relative",width:"100%",display:"flex",padding:"8px 16px",flexShrink:"0"},"@media (max-width:980px)",{width:"initial",overflow:"auto"}),Wrapper:(er={display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flex:.8},Object(g.a)(er,"@media (max-width:980px)",{flex:"initial",width:"80%",flexShrink:0}),Object(g.a)(er,"@media (max-width:500px)",{flex:"initial",width:"initial",flexShrink:0}),Object(g.a)(er,"@media (max-width:370px)",{width:"100%"}),er),ValueDollar:{fontSize:"14px"},WrapperPool:(tr={display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",marginLeft:"16px",flex:1},Object(g.a)(tr,"@media (max-width:980px)",{flex:"initial",width:"initial",flexShrink:0}),Object(g.a)(tr,"@media (max-width:500px)",{flex:"initial",width:"initial",flexShrink:0}),tr),infoBarWrapper:{flex:1,display:"flex",justifyContent:"space-between"},infoBox:{display:"flex",flexDirection:"column",marginLeft:"71px",flexShrink:0,"& > h6":{fontWeight:"bolder",fontSize:"16px"},"&:first-child":{marginLeft:"0"}},text:{textTransform:"capitalize"}}),ir=Object(O.a)({root:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column"}}),or={flexpool:function(e){var t=e.worker,a=e.meta,n=e.refreshId,r=Sn(),i=t.id,o=t.poolName,c=ve("pools/".concat(o.toLowerCase(),"/stats/").concat(i,"?refreshId=").concat(n)),s=c.data,l=c.loading,d=c.error;if(null===l||l)return Object(q.jsx)(Ma,{});if(d)return Object(q.jsxs)(za,{children:[Object(q.jsx)("b",{children:t.poolName})," stats not available yet!"]});console.log(null===s||void 0===s?void 0:s.results);var u=(null===s||void 0===s?void 0:s.results)||{},j=u.hashrate,p=u.chart,x=u.balance;return Object(q.jsxs)("div",{className:r.root,children:[Object(q.jsx)(yn,{worker:t,balance:x}),Object(q.jsx)(xn,{hashrate:j,worker:t,meta:a,balance:x}),Object(q.jsx)(fn,{dataChart:p,hashrate:j,worker:t})]})},unmineable:function(e){var t=e.worker,a=e.meta,n=e.refreshId,r=Ln(),i=t.id,o=t.poolName,c=ve("pools/".concat(o.toLowerCase(),"/stats/").concat(i,"?refreshId=").concat(n)),s=c.data,l=c.loading,d=c.error;if(null===l||l)return Object(q.jsx)(Ma,{});if(d)return Object(q.jsxs)(za,{children:[Object(q.jsx)("b",{children:t.poolName})," stats not available yet!"]});var u=s.results,j=u.hashrate,p=u.chart,x=u.balance;return Object(q.jsxs)("div",{className:r.root,children:[Object(q.jsx)(Hn,{worker:t,balance:x}),Object(q.jsx)(kn,{hashrate:j,worker:t,meta:a,balance:x}),Object(q.jsx)(In,{dataChart:p,hashrate:j,worker:t})]})},ezil:function(e){var t=e.worker,a=e.meta,n=e.refreshId,r=Kn(),i=t.id,o=t.poolName,c=ve("pools/".concat(o.toLowerCase(),"/stats/").concat(i,"?refreshId=").concat(n)),s=c.data,l=c.loading,d=c.error;if(null===l||l)return Object(q.jsx)(Ma,{});if(d)return Object(q.jsxs)(za,{children:[Object(q.jsx)("b",{children:t.poolName})," stats not available yet!"]});var u=(null===s||void 0===s?void 0:s.results)||{},j=u.hashrate,p=u.chart,x=u.balance,h=u.rates;return Object(q.jsxs)("div",{className:r.root,children:[Object(q.jsx)(qn,{worker:t,balance:x,rates:h}),Object(q.jsx)(An,{hashrate:j,worker:t,meta:a,balance:x}),Object(q.jsx)(Un,{dataChart:p,hashrate:j,worker:t})]})},ethermine:function(e){var t=e.worker,a=e.meta,n=e.refreshId,r=ir(),i=t.id,o=t.poolName,c=ve("pools/".concat(o.toLowerCase(),"/stats/").concat(i,"?refreshId=").concat(n)),s=c.data,l=c.loading,d=c.error;if(null===l||l)return Object(q.jsx)(Ma,{});if(d)return Object(q.jsxs)(za,{children:[Object(q.jsx)("b",{children:t.poolName})," stats not available yet!"]});console.log(null===s||void 0===s?void 0:s.results);var u=(null===s||void 0===s?void 0:s.results)||{},j=u.hashrate,p=u.chart,x=u.balance,h=u.baseUnit;return Object(q.jsxs)("div",{className:r.root,children:[Object(q.jsx)(nr,{worker:t,balance:x,baseUnit:h}),Object(q.jsx)(Xn,{hashrate:j,worker:t,meta:a,balance:x}),Object(q.jsx)(Zn,{dataChart:p,hashrate:j,worker:t})]})}},cr=function(e){var t=e.match,a=sr(),n=Object(h.f)(),r=Object(h.h)().workerId,c=Object(o.useState)((function(){return!1})),s=Object(i.a)(c,2),l=s[0],d=s[1],u=Object(o.useState)((function(){return Date.now()})),j=Object(i.a)(u,2),p=j[0],x=j[1],b=ve("workers/".concat(r)),m=b.data,f=b.loading;if(ye(b.error),f||null===f)return Object(q.jsx)("div",{className:a.loadingBar,children:Object(q.jsx)(C.a,{})});var v=function(){return d((function(e){return!e}))},O=m.results,g=m.meta,N=O.minerName,y=O.poolName,S=jn[N.toLowerCase()],k=or[y.toLowerCase()];return Object(q.jsxs)("div",{className:a.root,children:[Object(q.jsxs)("div",{className:a.Nav,children:[Object(q.jsx)(w.a,{size:"small",variant:"contained",startIcon:Object(q.jsx)(Ie.a,{}),disableElevation:!0,onClick:function(){var e=t.params.rigId;n.push("/rigs/".concat(e,"/workers"))},children:"Back"}),Object(q.jsxs)("div",{className:a.ActionBtn,children:[Object(q.jsx)(w.a,{className:a.Buttons,size:"small",variant:"contained",onClick:function(){return x(Date.now())},"aria-label":"refresh",color:"primary",startIcon:Object(q.jsx)(ma.a,{}),children:Object(q.jsx)("span",{className:"btn-label",children:"Refresh Stats"})}),Object(q.jsx)(w.a,{className:a.Buttons,size:"small",variant:"contained","aria-label":"View Logs",startIcon:Object(q.jsx)(ha.a,{}),color:"primary",onClick:v,children:Object(q.jsx)("span",{className:"btn-label",children:"View Logs"})})]})]}),Object(q.jsxs)("div",{className:a.WrapperScrollable,children:[Object(q.jsx)(Na,{worker:O,meta:g}),Object(q.jsx)(k,{worker:O,meta:g,refreshId:p}),Object(q.jsx)(S,{worker:O,meta:g,refreshId:p})]}),l&&Object(q.jsx)(Ca,{worker:O,onClose:v})]})},sr=Object(O.a)({root:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},WrapperScrollable:{width:"100%",flex:"1",overflow:"auto",display:"flex",flexDirection:"column",flexShrink:"0"},Nav:{padding:"16px",display:"flex",width:"100%",justifyContent:"space-between"},loadingBar:{width:"100%",display:"flex",height:"100%",justifyContent:"center",alignItems:"center"},ActionBtn:{"& > button:first-child":{marginRight:"8px"}},Buttons:Object(g.a)({},"@media (max-width:900px)",{"& .btn-label":{display:"none"},"& .MuiButton-startIcon":{margin:"0"},padding:"8px",minWidth:"initial"})});function lr(){var e=Object(h.i)();return Object(q.jsxs)(h.c,{children:[Object(q.jsx)(h.a,{path:"".concat(e.path),component:Ce,exact:!0}),Object(q.jsx)(h.a,{path:"".concat(e.path,"/add"),component:Yt,exact:!0}),Object(q.jsx)(h.a,{path:"".concat(e.path,"/edit/:workerId"),component:da,exact:!0}),Object(q.jsx)(h.a,{path:"".concat(e.path,"/stats/:workerId"),component:cr,exact:!0})]})}function dr(){var e=Object(o.useState)(null),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(o.useState)(null),c=Object(i.a)(r,2),s=c[0],l=c[1],d=Object(o.useState)(null),u=Object(i.a)(d,2),j=u[0],p=u[1],x=function(){var e=Object(I.a)(B.a.mark((function e(t){var a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,J("miners",{method:"POST",body:t});case 4:if(201===(a=e.sent).statusCode){e.next=7;break}throw new Error("Error installing: ".concat(t.minerName," - releaseId: ").concat(releaseId));case 7:l(!1),n(a),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),l(!1),p(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return{loading:s,install:x,error:j,data:a}}var ur,jr={minWidth:"111px",minHeight:"36px"},pr=function(){return null};function xr(e){var t=e.assetId,a=e.releaseId,n=e.minerName,r=dr(),i=r.install,o=r.loading,c=r.data,s=r.error,l=function(e){var t=e.minerName,a=ve("miners/".concat(t,"/_installed"));return{checking:a.loading,data:a.data,error:a.error}}({minerName:n}),d=l.checking,u=l.data;ye(s);var j=u&&"success"===u.status&&void 0!==u.results.find((function(e){var a=e.assetId;return t===a})),p=j||c&&"success"===c.status?"Reinstall":"Install",x=j||c&&"success"===c.status?"secondary":"primary",h=d||null===d||!0===o,b=h?pr:function(){return i({assetId:t,releaseId:a,minerName:n})};return Object(q.jsx)(w.a,{style:jr,size:"medium",variant:"contained",disabled:h,onClick:b,color:x,children:o?Object(q.jsx)(C.a,{size:20}):p})}function hr(e){var t=e.minerName,a=e.nameWithTag,n=e.tag_name,r=e.supports,i=e.html_url,o=e.assets,c=e.id,s=br();return Object(q.jsx)("div",{className:s.CardWrapper,children:Object(q.jsxs)(T.a,{title:t,className:s.root,variant:"outlined",children:[Object(q.jsxs)(P.a,{children:[Object(q.jsx)(f.a,{title:"Name: ".concat(t),className:s.title,color:"textSecondary",gutterBottom:!0,children:Object(q.jsx)("span",{style:{maxWidth:"180px"},className:"text-ellipsis",children:t})}),Object(q.jsx)(f.a,{variant:"h5",component:"h2",className:s.textPrimary,children:a}),Object(q.jsx)(f.a,{className:s.textSecondary,color:"textSecondary",children:Object(q.jsxs)("span",{className:"text-ellipsis",children:["Supports: ",r]})}),Object(q.jsx)(f.a,{variant:"body2",component:"p",className:s.WalletInfo,children:Object(q.jsx)("span",{title:"Wallet Name: ".concat(i),className:"text-ellipsis",children:Object(q.jsx)("a",{title:n,target:"_blank",href:i,rel:"noreferrer",children:i})})})]}),Object(q.jsx)(R.a,{className:s.CardActions,children:Object(q.jsx)(xr,{assetId:o.id,releaseId:c,minerName:t})})]})})}var br=Object(O.a)({root:{position:"relative",width:"100%",textAlign:"left"},title:{fontSize:14},textSecondary:{marginBottom:12,textTransform:"lowercase"},textPrimary:{textTransform:"uppercase"},CardWrapper:(ur={width:"33.33%",padding:"4px"},Object(g.a)(ur,"@media (max-width:900px)",{width:"50%"}),Object(g.a)(ur,"@media (max-width:624px)",{width:"100%"}),ur),WalletInfo:{display:"flex",alignItems:"center","& span":{marginLeft:"4px"}},CardActions:{justifyContent:"flex-end"}}),mr=["id"],fr=Object(O.a)({root:{display:"flex",flexWrap:"wrap",padding:"6px",overflow:"auto",height:"100%",margin:"auto",width:"100%"}});function vr(e){var t=e.minersInfo,a=fr();return Object(q.jsx)("div",{className:a.root,children:t.map((function(e){var t=e.id,a=Object(ke.a)(e,mr);return Object(q.jsx)(hr,Object(x.a)({id:t},a),t)}))})}var Or=Object(O.a)({root:{display:"flex",marginTop:"8px",overflow:"hidden"},loadingBar:{width:"100%",display:"flex",height:"100%",justifyContent:"center",alignItems:"center"}});function gr(){var e=Or(),t=Object(o.useState)((function(){return null})),a=Object(i.a)(t,2),n=a[0],r=a[1];return Object(o.useEffect)((function(){function e(){return(e=Object(I.a)(B.a.mark((function e(){var t,a,n,i;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("miners");case 2:return t=e.sent,a=t.results.map((function(e){var t=e.name,a=e.minerMode,n=e.supports;return J("miners/".concat(t.toLowerCase(),"/releases")).then((function(e){return e.results.map((function(e){return Object(x.a)(Object(x.a)({},e),{},{minerName:t,supports:n,nameWithTag:"".concat(t," ").concat(e.tag_name),minerMode:a})}))}))})),e.next=6,Promise.all(a);case 6:n=e.sent,i=n.reduce((function(e,t){return[].concat(Object(Oe.a)(e),Object(Oe.a)(t))}),[]).sort((function(e,t){return e.minerMode>t.minerMode?-1:t.minerMode>e.minerMode?1:0})),r(i);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),null===n?Object(q.jsx)("div",{className:e.loadingBar,children:Object(q.jsx)(C.a,{})}):Object(q.jsx)("div",{className:e.root,children:Object(q.jsx)(vr,{minersInfo:n})})}var wr=a(132),Nr=a.n(wr),yr=Object(O.a)({NoCoins:{flex:1,flexDirection:"column",alignItems:"center",display:"flex",justifyContent:"center",textAlign:"center",padding:"0 8px"},button:{marginTop:"32px"},icon:{marginRight:"8px"}});function Cr(e){var t=e.walletName,a=yr(),n=Object(h.f)(),r=Object(h.i)();return Object(q.jsxs)("div",{className:a.NoCoins,children:[Object(q.jsxs)(f.a,{variant:"h4",children:[Object(q.jsx)(Nr.a,{className:a.icon}),Object(q.jsx)("b",{children:t})," contains no coins!"]}),Object(q.jsxs)(w.a,{variant:"contained",size:"large",color:"primary",className:a.button,startIcon:Object(q.jsx)(y.a,{}),onClick:function(){return n.push("".concat(r.url,"/add-coin"))},children:["Add a new coin to ",t]})]})}var Sr=de,kr={target:null,status:!1};function Wr(){var e=Ir(),t=Object(o.useState)((function(){return kr})),a=Object(i.a)(t,2),n=a[0],r=a[1],c=Object(o.useState)((function(){return!1})),s=Object(i.a)(c,2),l=s[0],d=s[1],u=te().bus,j=Object(h.h)().walletName,p=Object(h.i)(),b=Object(h.f)(),m=ve("coins?walletName=".concat(j)),f=m.loading,v=m.data,O=m.error,g=m.updateData;if(ye(O),f||null===f)return Object(q.jsx)("div",{className:e.loadingBar,children:Object(q.jsx)(C.a,{})});var N=function(e){var t=e.id;g((function(e){return Object(x.a)(Object(x.a)({},e),{},{results:e.results.filter((function(e){return e.rowid!==t}))})}))},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr;return r((function(t){return Object(x.a)(Object(x.a)({},t),{},{target:e,status:!t.status})}))},k=function(){var e=Object(I.a)(B.a.mark((function e(){var t,a,r,i,o,c,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.target,a=t.walletName,r=t.coinName,i=t.rowid,d(!0),S(),e.prev=3,o="coins/".concat(i),c=Z(J(o,{method:"DELETE"})),s="Deleting Coin: '".concat(r,"' from wallet '").concat(a,"'..."),u.emit(Sr,{promise:c,label:s}),e.next=10,c;case 10:N({id:i}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0);case 16:return e.prev=16,d(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,13,16,19]])})));return function(){return e.apply(this,arguments)}}(),W=v.results;return(null===W||void 0===W?void 0:W.length)<=0?Object(q.jsx)(Cr,{walletName:j}):Object(q.jsxs)("div",{className:e.WalletDetails,children:[Object(q.jsx)("div",{className:e.NavBar,children:Object(q.jsx)(w.a,{disabled:l,size:"small",variant:"contained",startIcon:Object(q.jsx)(Ie.a,{}),className:e.backButton,disableElevation:!0,onClick:function(){var e=p.params.rigId;b.push("/rigs/".concat(e,"/wallets"))},children:"Back"})}),Object(q.jsxs)("div",{className:e.root,children:[Object(q.jsx)(Pa.a,{className:e.table,children:Object(q.jsxs)(Ia.a,{"aria-label":"coins details",children:[Object(q.jsx)(Da.a,{children:Object(q.jsxs)(Ha.a,{children:[Object(q.jsx)(Ra.a,{className:e.TableHead,children:"Coin Name"}),Object(q.jsx)(Ra.a,{className:e.TableHead,children:"Address"}),Object(q.jsx)(Ra.a,{className:e.TableHead,children:"Actions"})]})}),Object(q.jsx)(Ta.a,{children:W.map((function(t){var a=t.walletName,n=t.coinName,r=t.address,i=t.rowid;return Object(q.jsxs)(Ha.a,{children:[Object(q.jsx)(Ra.a,{component:"th",scope:"row",children:Object(q.jsxs)("div",{className:e.coinName,children:[Object(q.jsx)("img",{alt:n,src:"icons/".concat(n,".png"),onError:function(e){e.target.src="icons/notfound.png"}}),Object(q.jsx)("span",{children:n})]})}),Object(q.jsx)(Ra.a,{component:"th",scope:"row",title:r,className:e.ellipsis,children:Object(q.jsxs)("div",{className:e.address,children:[Object(q.jsx)("span",{className:"text-ellipsis",children:r}),Object(q.jsx)(Oa.a,{title:"Copy ".concat(n," Address"),className:e.CopyButton,size:"small",onClick:function(){return function(e){return navigator.clipboard.writeText(e)}(r)},"aria-label":"Copy ".concat(n," Address"),children:Object(q.jsx)(wa.a,{})})]})}),Object(q.jsx)(Ra.a,{component:"th",scope:"row",children:Object(q.jsx)(w.a,{disabled:l,size:"small",title:"Remove ".concat(n),disableElevation:!0,variant:"contained",startIcon:Object(q.jsx)(H.a,{}),onClick:function(){return S({coinName:n,walletName:a,rowid:i})},children:"Remove"})})]},n)}))})]})}),Object(q.jsxs)(w.a,{variant:"contained",size:"small",color:"primary",className:e.buttonAdd,startIcon:Object(q.jsx)(y.a,{}),onClick:function(){var e=p.params.rigId;b.push("/rigs/".concat(e,"/wallets/").concat(j,"/add-coin?redirect=/wallets/").concat(j))},children:["Add Coin to ",j]})]}),n.status&&Object(q.jsx)(se,{content:Br,onCancel:function(){return S()},onConfirm:k})]})}var Br="Deleting a coin will remove the 'idle' workers which are using it",Ir=Object(O.a)((function(e){return{table:{flex:1,"& table":{border:"1px solid #CCC"}},root:{flexGrow:1,backgroundColor:e.palette.background.paper,display:"flex",padding:"8px"},WalletDetails:{display:"flex",flexDirection:"column",flex:1},loadingBar:{flex:1,alignItems:"center",display:"flex",justifyContent:"center"},NavBar:{width:"100%",display:"flex",padding:"16px 8px"},TableHead:{fontWeight:"bold"},ellipsis:{textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"380px",overflow:"hidden"},coinName:{display:"flex",alignItems:"center","& > img":{height:"26px",marginRight:"4px"}},address:{display:"flex",alignItems:"center","& > span":{marginRight:"4px"}},buttonAdd:{position:"absolute",top:"auto",bottom:"16px",left:"auto",right:"16px"}}})),Tr=Object(O.a)({FormWrapper:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative"},Form:{display:"flex",flexDirection:"column",marginTop:"32px",height:"33%",justifyContent:"space-around"},backButton:{position:"absolute",zIndex:2,top:"16px",left:"16px"}});function Rr(){var e=Tr(),t=Object(h.i)(),a=Object(h.f)(),n=Object(o.useState)(null),r=Object(i.a)(n,2),c=r[0],s=r[1];ye(c);var l=function(){var e=Object(I.a)(B.a.mark((function e(n){var r,i,o;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"wallets",e.next=3,J("wallets",{method:"POST",body:n});case 3:if(201===(r=e.sent).statusCode&&(i=t.params.rigId,a.push("/rigs/".concat(i,"/wallets"))),"error"===r.status&&(o="Wallet named: '".concat(n.walletName,"' already exist!"),s(new Error(o))),201===r.statusCode){e.next=8;break}return e.abrupt("return",Promise.reject());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(q.jsxs)("div",{className:e.FormWrapper,children:[Object(q.jsx)(w.a,{size:"small",variant:"contained",startIcon:Object(q.jsx)(Ie.a,{}),className:e.backButton,disableElevation:!0,onClick:function(){var e=t.params.rigId;a.push("/rigs/".concat(e,"/wallets"))},children:"Back"}),Object(q.jsx)(f.a,{variant:"h3",component:"h3",children:"Add New Wallet"}),Object(q.jsxs)(We.b,{className:e.Form,onSubmit:l,children:[Object(q.jsx)(ze,{autoFocus:!0,helperText:"Accept only letters and numbers...{2,16}",validators:[Pr],label:"Type Wallet Name...",variant:"outlined",name:"walletName"}),Object(q.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(q.jsx)(He,{size:"large",startIcon:Object(q.jsx)(y.a,{}),children:"Save"})})]})]})}var Pr=function(e){return e&&/^[a-zA-Z0-9]{2,16}$/.test(e)?void 0:"Name not valid"};function Dr(e){var t=e.options,a=void 0===t?[]:t,n=e.onChangeValue,r=Object(o.useState)((function(){return a})),c=Object(i.a)(r,2),s=c[0],l=c[1],d=ve("coins/_supported"),u=d.loading,j=d.data;ye(d.error),Object(o.useEffect)((function(){j&&200===j.statusCode&&l(j.results.map((function(e){var t=e.symbol;return{value:t,label:t}})))}),[j]);var p=u||null===u;return Object(q.jsx)(Ge,{placeholder:"Pick a coin ticker...",onChangeValue:n,isDisabled:p,isLoading:p,options:s,name:"coinName",validators:[Hr]})}var Hr=function(e){return"string"===typeof e?void 0:"required"};function Er(e){var t=e.walletName,a=Mr(),n=Object(We.h)((function(e){return e.coinName})),r=Object(i.a)(n,1)[0].split("+");return Object(q.jsx)(We.a,{array:!0,name:"addresses",children:r.map((function(e,n){return Object(q.jsx)(ze,{index:n,className:a.TextField,autoFocus:0===n,helperText:"Add a valid '".concat(e,"' Address - Wallet: '").concat(t,"'"),validators:[Lr],label:"Type your '".concat(e,"' Address..."),variant:"outlined"},e)}))})}var Lr=function(e){return"string"===typeof e&&e.trim().length>=5?void 0:"Address not valid"},Mr=Object(O.a)((function(){return{TextField:{marginTop:"4px",marginBottom:"32px"}}}));var Ar=["addresses"];function zr(){var e=["Coin Ticker","Coin Address"],t=Ur(),a=Object(h.f)(),n=Object(h.h)().walletName,r=Object(h.i)(),c=new URLSearchParams(Object(h.g)().search),s=Object(o.useState)(0),l=Object(i.a)(s,2),d=l[0],u=l[1],j=Object(o.useState)(null),p=Object(i.a)(j,2),x=p[0],b=p[1];ye(x);var m=function(){var e=Object(I.a)(B.a.mark((function e(t){var i,o,c,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.addresses,(o=Object(ke.a)(t,Ar)).address=i.join("."),"coins",e.prev=3,e.next=6,J("coins",{method:"POST",body:o});case 6:201===e.sent.statusCode&&(c=r.params.rigId,a.push("/rigs/".concat(c,"/wallets/").concat(n))),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(3),s="Coin named: '".concat(t.coinName,"' already exist!"),b(new Error(s)),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),f=function(e){var t;null===e||void 0===e||null===(t=e.preventDefault)||void 0===t||t.call(e),u(d+1)},v=d===e.length-1?Object(q.jsx)(He,{startIcon:Object(q.jsx)(y.a,{}),type:"submit",variant:"contained",color:"primary",children:"Save"}):Object(q.jsx)(He,{variant:"contained",color:"primary",onClick:f,children:"Next"});return Object(q.jsxs)("div",{className:t.FormWrapper,children:[Object(q.jsx)(w.a,{size:"small",variant:"contained",startIcon:Object(q.jsx)(Ie.a,{}),className:t.backButton,disableElevation:!0,onClick:function(){var e=c.get("redirect"),t=r.params.rigId;e?a.push("/rigs/".concat(t).concat(e)):a.push("/rigs/".concat(t,"/wallets"))},children:"Back"}),Object(q.jsx)(Te.a,{className:t.Stepper,activeStep:d,alternativeLabel:!0,children:e.map((function(e){return Object(q.jsx)(Re.a,{children:Object(q.jsx)(Pe.a,{children:e})},e)}))}),Object(q.jsxs)(We.b,{className:t.Form,onSubmit:m,children:[Object(q.jsx)(We.c,{type:"hidden",value:n,name:"walletName"}),Object(q.jsxs)(We.d,{children:[0===d&&Object(q.jsx)(Dr,{onChangeValue:f},d),1===d&&Object(q.jsx)(Er,{walletName:n},d)]}),Object(q.jsxs)("div",{className:t.Buttons,children:[Object(q.jsx)(w.a,{disabled:0===d,onClick:function(e){e.preventDefault(),u(d-1)},className:t.backButtonForm,children:"Back"}),v]})]})]})}var _r,Ur=Object(O.a)((function(e){return{FormWrapper:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative"},Form:{display:"flex",flexDirection:"column",marginTop:"32px",height:"33%",width:"100%",maxWidth:"640px",padding:"0 16px",justifyContent:"space-around"},Stepper:{width:"100%",maxWidth:"640px"},backButton:{position:"absolute",zIndex:2,top:"16px",left:"16px"},backButtonForm:{marginRight:e.spacing(4)},Buttons:{display:"flex",justifyContent:"center"}}})),Fr=a(224),Vr=a.n(Fr),Gr=a(225),qr=a.n(Gr),Yr=function(e){var t,a=e.walletName,n=Kr(),r=ve("workers?walletName=".concat(a)),i=r.loading,o=r.data,c=i||null===i,s=null===o||void 0===o||null===(t=o.results)||void 0===t?void 0:t.length;return Object(q.jsx)("div",{className:n.WorkerCounter,children:Object(q.jsx)(f.a,{variant:"caption",className:n.WorkerInfo,color:"textSecondary",gutterBottom:!0,children:Object(q.jsxs)("span",{children:["Used by"," ",c&&Object(q.jsx)(C.a,{size:14,classes:{root:n.CircularProgress}})," ",s&&s," Workers"]})})})},Kr=Object(O.a)({WorkerCounter:{display:"flex",alignItems:"center"},WorkerInfo:{display:"flex",alignItems:"center",justifyContent:"center"}}),$r=function(e){var t,a=e.walletName,n=Xr(),r=ve("coins?walletName=".concat(a)),i=r.loading,o=r.data,c=i||null===i,s=null===o||void 0===o||null===(t=o.results)||void 0===t?void 0:t.length;return Object(q.jsxs)("div",{className:n.CoinCounter,children:[Object(q.jsxs)(f.a,{className:n.Typography,color:"textSecondary",variant:"overline",children:["Coins: ",s&&s," "]}),c&&Object(q.jsx)(C.a,{size:14,classes:{root:n.CircularProgress}})]})},Xr=Object(O.a)({CoinCounter:{display:"flex",alignItems:"center",marginTop:"8px"},Typography:{fontSize:"0.85rem"}}),Jr=de;function Zr(e){var t=e.walletName,a=e.id,n=e.onRemoveWallet,r=ei(),c=Object(o.useState)((function(){return!1})),s=Object(i.a)(c,2),l=s[0],d=s[1],u=Object(o.useState)((function(){return!1})),j=Object(i.a)(u,2),p=j[0],x=j[1],b=te().bus,m=Object(h.f)(),v=Object(h.i)(),O=function(){return d((function(e){return!e}))},g=function(){var e=Object(I.a)(B.a.mark((function e(){var r,i,o;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),O(),e.prev=2,r="wallets/".concat(a),i=Z(J(r,{method:"DELETE"})),o="Deleting Wallet: ".concat(t,"..."),b.emit(Jr,{promise:i,label:o}),e.next=9,i;case 9:n({walletName:t,id:a}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0);case 15:return e.prev=15,x(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})));return function(){return e.apply(this,arguments)}}();return Object(q.jsxs)("div",{className:r.CardWrapper,children:[Object(q.jsxs)(T.a,{className:r.root,variant:"outlined",children:[Object(q.jsxs)(P.a,{children:[Object(q.jsxs)("div",{className:r.WalletName,children:[Object(q.jsx)(_.a,{}),Object(q.jsx)(f.a,{variant:"h5",component:"h2",children:t})]}),Object(q.jsx)(Yr,{walletName:t}),Object(q.jsx)($r,{walletName:t})]}),Object(q.jsxs)(R.a,{className:r.CardActions,children:[Object(q.jsx)(w.a,{disabled:p,className:r.buttons,"aria-label":"Add coins",size:"small",onClick:function(){var e=v.params.rigId;m.push("/rigs/".concat(e,"/wallets/").concat(t,"/add-coin"))},startIcon:Object(q.jsx)(Vr.a,{}),title:"Add coins to ".concat(t),children:"Add coins"}),Object(q.jsx)(w.a,{size:"small",disabled:p,className:r.buttons,"aria-label":"Delete",startIcon:Object(q.jsx)(qr.a,{}),title:"Delete ".concat(t," wallet"),onClick:O,children:"Delete"})]}),Object(q.jsx)("div",{className:r.buttonCover,onClick:function(){var e=v.params.rigId;m.push("/rigs/".concat(e,"/wallets/").concat(t))}})]}),l&&Object(q.jsx)(se,{content:Qr,onCancel:O,onConfirm:g})]})}var Qr="Deleting a wallet will remove all the contained coins and as well as the 'idle' workers which are using it",ei=Object(O.a)({root:{width:"100%",textAlign:"left",cursor:"pointer",position:"relative","&:hover, &:focus":{boxShadow:"0px 10px 13px -7px #e0e0e0"}},CardWrapper:(_r={width:"33.33%",padding:"4px",position:"relative",zIndex:1},Object(g.a)(_r,"@media (max-width:900px)",{width:"50%"}),Object(g.a)(_r,"@media (max-width:624px)",{width:"100%"}),_r),buttonCover:{width:"100%",position:"absolute",height:"100%",top:0,left:0,zIndex:1},WalletName:{display:"flex",alignItems:"center",marginBottom:"2px","& > h2":{marginLeft:"4px"}},CoinCounter:{display:"flex",alignItems:"center"},CircularProgress:{marginLeft:"8px"},buttons:{zIndex:2,position:"relative"},CardActions:{display:"flex",justifyContent:"space-between"}}),ti=Object(O.a)({NoWallets:{flexDirection:"column",alignItems:"center",display:"flex",justifyContent:"center",height:"100%",textAlign:"center"},button:{marginTop:"32px"},icon:{marginRight:"8px"},textSecondary:{marginTop:"24px"}});function ai(e){var t=e.toggleAddWallet,a=ti();return Object(q.jsxs)("div",{className:a.NoWallets,children:[Object(q.jsxs)(f.a,{variant:"h4",children:[Object(q.jsx)(Nr.a,{className:a.icon}),"No Wallets!"]}),Object(q.jsx)(w.a,{variant:"contained",size:"large",color:"primary",className:a.button,startIcon:Object(q.jsx)(y.a,{}),onClick:t,children:"Add New wallet"}),Object(q.jsx)(f.a,{className:a.textSecondary,color:"textSecondary",children:"You do not have any wallet yet! Please add a wallet!"})]})}var ni=["walletName"];function ri(e){var t=e.match,a=ii(),n=Object(h.f)(),r=ve("wallets"),i=r.loading,o=r.data,c=r.error,s=r.updateData;if(i||null===i)return Object(q.jsx)("div",{className:a.loadingBar,children:Object(q.jsx)(C.a,{})});var l=function(){var e=t.params.rigId;n.push("/rigs/".concat(e,"/wallets/add-wallet"))},d=function(e,a){n.push("".concat(t.path,"/").concat(a))},u=function(e){var t=e.id;s((function(e){return Object(x.a)(Object(x.a)({},e),{},{results:e.results.filter((function(e){return e.id!==t}))})}))},j=(null===o||void 0===o?void 0:o.results)||[];return 404===(null===c||void 0===c?void 0:c.statusCode)||j.length<=0?Object(q.jsx)(ai,{toggleAddWallet:l}):Object(q.jsxs)("div",{className:a.Wallets,children:[Object(q.jsx)("div",{className:a.NavBar,children:Object(q.jsx)(w.a,{variant:"contained",size:"small",color:"primary",className:a.button,startIcon:Object(q.jsx)(y.a,{}),onClick:l,children:"Add New Wallet"})}),Object(q.jsx)("div",{className:a.root,children:j.map((function(e){var t=e.walletName,a=Object(ke.a)(e,ni);return Object(q.jsx)(Zr,Object(x.a)({onRemoveWallet:u,onClick:d,walletName:t},a),t)}))})]})}var ii=Object(O.a)((function(e){return{Wallets:{flex:1,flexDirection:"column",position:"relative",display:"flex",overflow:"hidden"},root:{backgroundColor:e.palette.background.paper,display:"flex",flexWrap:"wrap",padding:"6px",overflow:"auto"},NavBar:{width:"100%",display:"flex",padding:"16px 8px"},loadingBar:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"}}}));function oi(e){var t=e.match;return Object(q.jsxs)(h.c,{children:[Object(q.jsx)(h.a,{path:"".concat(t.path),component:ri,exact:!0}),Object(q.jsx)(h.a,{path:"".concat(t.path,"/add-wallet"),component:Rr,exact:!0}),Object(q.jsx)(h.a,{path:"".concat(t.path,"/:walletName"),component:Wr,exact:!0}),Object(q.jsx)(h.a,{path:"".concat(t.path,"/:walletName/add-coin"),component:zr,exact:!0})]})}function ci(e){var t=e.logo,a=e.coin,n=e.onClick,r=e.coinPicked,i=si();return Object(q.jsxs)("button",{"data-selected":r.name===a.name,onClick:function(){return null===n||void 0===n?void 0:n(a)},className:i.DonationBtn,children:[Object(q.jsx)("img",{className:i.img,src:t,alt:a.name}),Object(q.jsx)("span",{className:i.tickerName,children:a.name})]})}var si=Object(O.a)((function(){return{DonationBtn:{minWidth:"123px",cursor:"pointer",padding:"8px 24px",margin:"2px",display:"flex",alignItems:"center",borderRadius:"4px",border:"1px solid rgba(25, 118, 210, 0.5)",color:"rgb(25, 118, 210)",outline:"none",background:"none","&:hover[data-selected='false']":{backgroundColor:"rgba(25, 118, 210, 0.04)",border:"1px solid rgb(25, 118, 210)"},"&[data-selected='true']":{backgroundColor:"rgba(25, 118, 210, 0.4)",border:"1px solid rgb(25, 118, 210)"}},tickerName:{marginLeft:"8px",fontWeight:"800"},img:{height:"32px",width:"auto"}}})),li=a(226),di=a.n(li);function ui(){var e=ji(),t=Object(o.useState)((function(){return null})),a=Object(i.a)(t,2),n=a[0],r=a[1],c=ve("donations"),s=c.data,l=c.loading;if(ye(c.error),Object(o.useEffect)((function(){s&&(null===s||void 0===s?void 0:s.results)&&r(s.results[0])}),[s]),l||null===l||null===n)return Object(q.jsx)("div",{className:e.loadingBar,children:Object(q.jsx)(C.a,{})});var d=function(e){r(e)};return Object(q.jsxs)("div",{className:e.Donation,children:[Object(q.jsx)(f.a,{variant:"h3",component:"h1",color:"textSecondary",gutterBottom:!0,children:"Donation"}),Object(q.jsx)(f.a,{component:"p",paragraph:!0,children:"The software is free to download and use. There are no ads, popups, or links to products for sale. It is maintained by the creator (BeBo) with no funding or support from any sources. If you like the software, please, donation is appreciated and it helps to keep the software development active. Thanks."}),Object(q.jsx)("div",{className:e.ButtonCoins,children:s.results.map((function(e){return Object(q.jsx)(ci,{coinPicked:n,coin:e,onClick:d,logo:"icons/".concat(e.name,".png")},e.name)}))}),Object(q.jsxs)("div",{className:e.address,children:[Object(q.jsx)(f.a,{className:e.coinPicked,component:"p",paragraph:!0,children:Object(q.jsxs)("span",{className:"text-ellipsis",children:[" ",n.value]})}),Object(q.jsx)(w.a,{title:"Copy ".concat(n.name," Address"),className:e.CopyButton,color:"primary",size:"small",variant:"contained",startIcon:Object(q.jsx)(wa.a,{}),onClick:function(){return e=n.value,navigator.clipboard.writeText(e);var e},"aria-label":"Copy ".concat(n.name," Address"),children:"Copy Address"})]}),Object(q.jsx)("div",{className:e.QRCode,children:Object(q.jsx)(di.a,{value:n.value})})]})}var ji=Object(O.a)((function(){return{loadingBar:{width:"100%",display:"flex",height:"100%",justifyContent:"center",alignItems:"center"},address:Object(g.a)({display:"flex",alignItems:"center",padding:"8px",borderRadius:"4px",justifyContent:"space-between",backgroundColor:"rgba(0, 0, 0, 0.03)"},"@media (max-width:624px)",{flexDirection:"column"}),CopyButton:Object(g.a)({flexShrink:"0"},"@media (max-width:624px)",{marginTop:"16px",width:"100%"}),coinPicked:{fontSize:"15px",fontWeight:"bold",height:"100%",width:"100%",display:"flex",alignItems:"center",marginBottom:"0"},Donation:Object(g.a)({padding:"36px",height:"100%",width:"100%",margin:"auto",display:"flex",flexDirection:"column"},"@media (max-width:624px)",{padding:"24px 16px"}),ButtonCoins:Object(g.a)({marginBottom:"24px",display:"flex",flexWrap:"wrap",flexShrink:"0"},"@media (max-width:624px)",{flexWrap:"initial",overflow:"auto",marginBottom:"18px",paddingBottom:"12px"}),QRCode:{padding:"32px 16px",display:"flex",marginTop:"24px",width:"100%",justifyContent:"center",borderRadius:"4px",backgroundColor:"rgba(0, 0, 0, 0.03)"}}})),pi=a(480),xi=a(484),hi=a(481),bi=a(227),mi=a.n(bi),fi=Object(O.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},AppBar:{display:"flex",flexDirection:"row",justifyContent:"space-between"},actionbox:{display:"flex",flexDirection:"row"},redLine:{position:"absolute",width:"100%",height:"2px",top:"auto",bottom:"0",backgroundColor:"#f50057"},Buttons:Object(g.a)({},"@media (max-width:900px)",{"& .btn-label":{display:"none"},"& .MuiButton-startIcon":{margin:"0"},padding:"8px 16px",minWidth:"initial"})}}));function vi(){var e=fi(),t=Object(h.f)(),a=Object(h.g)(),n=Object(h.i)(),r=Object(o.useState)((function(){var e=Object.keys(gi).find((function(e){return t.location.pathname.includes(e)}));return gi[e]})),c=Object(i.a)(r,2),s=c[0],l=c[1],d=function(e,a){var r;l(a);var o=null===(r=Object.entries(gi).find((function(e){return Object(i.a)(e,2)[1]===a})))||void 0===r?void 0:r[0],c=n.params.rigId;"undefined"!==typeof o&&t.push("/rigs/".concat(c).concat(o))};return Object(o.useEffect)((function(){if(null===a||void 0===a?void 0:a.pathname){var e,t,n,r=(null===(e=a.pathname)||void 0===e||null===(t=e.split)||void 0===t||null===(n=t.call(e,"/"))||void 0===n?void 0:n[3])||"-1",i=gi["/".concat(r)];void 0!==i&&l(i)}}),[a]),Object(q.jsx)("div",{className:e.root,children:Object(q.jsxs)(pi.a,{className:e.AppBar,position:"static",children:[Object(q.jsxs)(xi.a,{value:s,onChange:d,"aria-label":"main tabs",children:[Object(q.jsx)(hi.a,Object(x.a)({label:"Workers"},Oi(2))),Object(q.jsx)(hi.a,Object(x.a)({label:"Miners"},Oi(0))),Object(q.jsx)(hi.a,Object(x.a)({label:"Wallets"},Oi(1)))]}),Object(q.jsx)("div",{className:e.actionbox,children:Object(q.jsxs)(w.a,{className:e.Buttons,style:{position:"relative",borderRadius:"unset"},disableElevation:!0,variant:"contained",color:"primary",size:"medium",startIcon:Object(q.jsx)(mi.a,{}),onClick:function(){var e=n.params.rigId;t.push("/rigs/".concat(e,"/donation")),d(0,3)},children:[Object(q.jsx)("span",{className:"btn-label",children:"Donate"}),3===s&&Object(q.jsx)("span",{className:e.redLine})]})})]})})}function Oi(e){return{id:"main-tab-".concat(e),"aria-controls":"main-tabpanel-".concat(e)}}var gi={"/workers":0,"/miners":1,"/wallets":2,"/donation":3};function wi(e){var t=e.match,a=Ni();return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(vi,{}),Object(q.jsx)("div",{className:a.RigControl,children:Object(q.jsxs)(h.c,{children:[Object(q.jsx)(h.a,{path:"".concat(t.path,"/workers"),component:lr}),Object(q.jsx)(h.a,{path:"".concat(t.path,"/miners"),component:gr,exact:!0}),Object(q.jsx)(h.a,{path:"".concat(t.path,"/wallets"),component:oi}),Object(q.jsx)(h.a,{path:"".concat(t.path,"/donation"),component:ui,exact:!0})]})})]})}var Ni=Object(O.a)((function(){return{RigControl:{width:"100%",height:"100%",overflow:"auto",display:"flex",flexDirection:"column"}}})),yi=a(228),Ci=a.n(yi),Si={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:stun.l.google.com:19302"]}],iceCandidatePoolSize:"10"},ki="https://bebomining.com:8000";function Wi(e,t){var a=e.roomId,n=e.bus,r=Object(o.useRef)(null),i=Object(o.useRef)(null),c=Object(o.useRef)(null),s=ye().addError,l=function(){i.current&&i.current.close(),r.current&&r.current.connected&&r.current.close()},d=function(e){try{var t="object"===typeof e?JSON.stringify(e):e;c.current.send(t)}catch(a){s(new Error("Connection Lost!"),Object(q.jsx)(w.a,{onClick:function(){return location.reload()},color:"inherit",size:"small",children:"REFRESH"}))}},u=function(){var e=Object(I.a)(B.a.mark((function e(t){var a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.candidate;try{a&&i.current.addIceCandidate(new RTCIceCandidate(a))}catch(n){console.err("Candidate Error",n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(I.a)(B.a.mark((function e(o){var s,u,j,p;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=o.sender,u=o.offer,i.current=new RTCPeerConnection(Si,{}),j={reliable:!0},c.current=i.current.createDataChannel("commands",j),i.current.ondatachannel=function(e){e.channel.onmessage=function(e){try{var t=JSON.parse(e.data);if("string"===typeof t.namespace){var a=t.namespace,r=t.api,i=t.id;n.emit("".concat(a,"-").concat(i),r),console.log({type:"bus.emit",namespace:a,api:r,id:i})}}catch(o){console.err({type:"bus.emit.error",err:o})}console.log({type:"channel.onmessage",data:e.data})},e.channel.onopen=function(e){window._SOCKET={send:d},t(d),console.log({type:"channel.onopen",event:e})},e.channel.onerror=function(e){console.log({type:"channel.onerror",error:e})}},(x=i.current).oniceconnectionstatechange=function(e){var t=(null===e||void 0===e?void 0:e.target).iceConnectionState;switch(console.info({type:"oniceconnectionstatechange",iceConnectionState:t}),t){case"disconnected":case"failed":case"closed":l()}},x.onnegotiationneeded=function(e){console.info({type:"onnegotiationneeded",event:e})},x.onicecandidate=function(e){console.info({type:"onicecandidate",roomId:a}),e.candidate?r.current.emit("candidate",{candidate:e.candidate,roomId:a}):console.log("End collecting candidates")},e.prev=6,e.next=9,i.current.setRemoteDescription(new RTCSessionDescription(u));case 9:return e.next=11,i.current.createAnswer();case 11:return p=e.sent,e.next=14,i.current.setLocalDescription(p);case 14:r.current.emit("answer",{roomId:a,answer:p,to:s}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),console.log("answer Error",e.t0);case 20:case"end":return e.stop()}var x}),e,null,[[6,17]])})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){return function(){l()}}),[]),Object(o.useEffect)((function(){a&&""!==a.trim()&&(console.log({type:"connection",server:ki}),r.current=Ci.a.connect(ki),r.current.on("connect",(function(){console.log({type:"connected",server:ki}),r.current.on("offer-received",j),r.current.on("candidate",u),r.current.on("join-room-error",(function(){console.log({type:"join-room-error",roomId:a}),l()})),r.current.emit("join-room",{roomId:a})})),r.current.on("disconnect",(function(){console.log({type:"disconnect"})})),r.current.on("connect_error",(function(){console.log({type:"connect_error"})})))}),[a])}var Bi=de;function Ii(e){var t=e.bus,a=Ti(),n=Object(o.useState)(!1),r=Object(i.a)(n,2),c=r[0],s=r[1],l=Object(o.useState)(null),d=Object(i.a)(l,2),u=d[0],j=d[1],p=ye().setError;return Object(o.useEffect)((function(){var e=function(){return s(!1)},a=function(t){var a=t.promise,n=t.errorShow,r=void 0===n||n,i=t.label,o=void 0===i?"":i;o.trim().length>0&&j(o),s(!0),a.catch((function(e){return r&&p(e)})).finally(e)};return t.on(Bi,a),function(){t.off(Bi,a)}}),[]),c&&Object(q.jsx)(ht,{selector:"#progress-bar",children:Object(q.jsxs)("div",{className:a.ProgressBar,children:[u&&Object(q.jsx)(f.a,{className:a.Typography,gutterBottom:!0,children:u}),Object(q.jsx)(v.a,{color:"secondary"})]})})}var Ti=Object(O.a)((function(){return{ProgressBar:{textAlign:"left",textIndent:"8px",width:"100%"},Typography:{fontWeight:"bold"}}})),Ri=(a(208),Object(m.a)());function Pi(){var e=Di(),t=Object(o.useState)((function(){return null})),a=Object(i.a)(t,2),n=a[0],r=a[1],c=Object(o.useState)((function(){return!0})),l=Object(i.a)(c,2),d=l[0],u=l[1],j=Object(o.useState)((function(){return{bus:Ri}})),p=Object(i.a)(j,2),m=p[0],O=p[1];return Wi({roomId:n,bus:Ri},(function(e){O((function(t){return Object(x.a)(Object(x.a)({},t),{},{socket:{send:e}})})),u(!1)})),Object(o.useEffect)((function(){var e=Object(h.e)(window.location.hash,{path:"#/rigs/:rigId",exact:!1,strict:!1}),t=((null===e||void 0===e?void 0:e.params)||{}).rigId;t&&""!==t.trim()&&r(t)}),[]),d?Object(q.jsxs)("div",{className:e.ProgressBar,children:[Object(q.jsx)(f.a,{variant:"h5",component:"h5",color:"textSecondary",className:e.ProgressBarTitle,gutterBottom:!0,children:"Connecting..."}),Object(q.jsx)(v.a,{color:"primary"})]}):Object(q.jsxs)(s.Provider,{value:m,children:[Object(q.jsx)(b.a,{children:Object(q.jsx)(h.c,{children:Object(q.jsx)(h.a,{path:"/rigs/:rigId",component:wi})})}),Object(q.jsx)(Ii,{bus:Ri})]})}window._BUS=Ri;var Di=Object(O.a)((function(){return{ProgressBar:{height:"auto",width:"80%",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},ProgressBarTitle:{marginBottom:"24px"}}})),Hi=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(q.jsx)(Pi,{})}}]),a}(o.PureComponent),Ei=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.selector;return Object(q.jsx)(ht,{selector:a,children:t})}}]),a}(c.a.PureComponent);function Li(){var e=Object(o.useState)((function(){return{list:[]}})),t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(q.jsx)("div",{className:"App",children:Object(q.jsxs)(l.Provider,{value:n,children:[Object(q.jsx)(Hi,{}),Object(q.jsx)(Ei,{selector:"#notifications",children:a.list.map((function(e,t){var a="".concat(Date.now()).concat(t);return Object(q.jsx)(c.a.Fragment,{children:e},a)}))})]})})}var Mi=Object(o.memo)(Li);console.log=function(){},console.info=function(){};var Ai=document.getElementById("root");Object(n.render)(Object(q.jsx)(Mi,{}),Ai)}},[[410,1,2]]]);
//# sourceMappingURL=main.2b83afb4.chunk.js.map